{"version":3,"mappings":"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","names":["n","o","i","l","a","s","e","t","r","f","u","c","_","p","d","v","h","g","y","m","b","x","k","S","w","C","O","j","A","F","H","M","L","T","E","$","D","N","P","W","I","R","U","V","q","z","Z","B","G","J","K","Q","X","Y","Config","constructor","initialConfig","config","getConfig","setConfig","newConfig","delve","Markup","IntlContext","createContext","defined","obj","assign","props","deepAssign","target","source","out","select","properties","selected","val","objectWithoutProperties","exclude","URL_FLAG","IntlProvider","ref","scope","mark","definition","rest","ref$1","useContext","parentIntl","intl","Child","options","IntlProviderWrapper","EMPTY","template","fields","dictionary","replacer","currentFields","field","parts","Text","translate","id","plural","fallback","value","HighlightI18N","dictionaryKey","translateMapping","onlyTextNodes","name","def","Localizer","children","child","cloneElement","objectWithoutProperties$1","MarkupText","Html","html","withText","mapping","WithTextWrapper","context","map","translations","useText","window","DROPINS","showSlots","state","sessionStorage","setItem","toString","document","body","classList","toggle","__vitePreload","getItem","ImageParamsKeyMap","_map","getMethods","setMap","getMap","keyMap","setImageParamsKeyMap","getImageParamsKeyMap","Initializer","init","listeners","_listeners","forEach","listener","off","imageParamsKeyMap","initializers","register","initializer","_mounted","_initializers","push","mount","_imageParamsKeyMap","setImageParamKeys","params","__publicField"],"ignoreList":[0,2,3,4],"sources":["../../../node_modules/preact-render-to-string/dist/index.mjs","../src/lib/config.ts","../../../node_modules/dlv/dist/dlv.es.js","../../../node_modules/preact-markup/dist/preact-markup.module.js","../../../node_modules/preact-i18n/dist/preact-i18n.esm.js","../src/lib/slot.tsx","../src/lib/image-params-keymap.ts","../src/lib/initializer.ts"],"sourcesContent":["import{Fragment as e,options as t,h as r}from\"preact\";var n=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,o=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,i=/[\\s\\n\\\\/='\"\\0<>]/,l=/^xlink:?./,a=/[\"&<]/;function s(e){if(!1===a.test(e+=\"\"))return e;for(var t=0,r=0,n=\"\",o=\"\";r<e.length;r++){switch(e.charCodeAt(r)){case 34:o=\"&quot;\";break;case 38:o=\"&amp;\";break;case 60:o=\"&lt;\";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=o,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var f=function(e,t){return String(e).replace(/(\\n+)/g,\"$1\"+(t||\"\\t\"))},u=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf(\"\\n\")||-1!==String(e).indexOf(\"<\")},c={},_=/([A-Z])/g;function p(e){var t=\"\";for(var r in e){var o=e[r];null!=o&&\"\"!==o&&(t&&(t+=\" \"),t+=\"-\"==r[0]?r:c[r]||(c[r]=r.replace(_,\"-$1\").toLowerCase()),t=\"number\"==typeof o&&!1===n.test(r)?t+\": \"+o+\"px;\":t+\": \"+o+\";\")}return t||void 0}function d(e,t){return Array.isArray(t)?t.reduce(d,e):null!=t&&!1!==t&&e.push(t),e}function v(){this.__d=!0}function h(e,t){return{__v:e,context:t,props:e.props,setState:v,forceUpdate:v,__d:!0,__h:[]}}function g(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var y=[];function m(r,n,a,c,_,v){if(null==r||\"boolean\"==typeof r)return\"\";if(\"object\"!=typeof r)return\"function\"==typeof r?\"\":s(r);var b=a.pretty,x=b&&\"string\"==typeof b?b:\"\\t\";if(Array.isArray(r)){for(var k=\"\",S=0;S<r.length;S++)b&&S>0&&(k+=\"\\n\"),k+=m(r[S],n,a,c,_,v);return k}if(void 0!==r.constructor)return\"\";var w,C=r.type,O=r.props,j=!1;if(\"function\"==typeof C){if(j=!0,!a.shallow||!c&&!1!==a.renderRootComponent){if(C===e){var A=[];return d(A,r.props.children),m(A,n,a,!1!==a.shallowHighOrder,_,v)}var F,H=r.__c=h(r,n);t.__b&&t.__b(r);var M=t.__r;if(C.prototype&&\"function\"==typeof C.prototype.render){var L=g(C,n);(H=r.__c=new C(O,L)).__v=r,H._dirty=H.__d=!0,H.props=O,null==H.state&&(H.state={}),null==H._nextState&&null==H.__s&&(H._nextState=H.__s=H.state),H.context=L,C.getDerivedStateFromProps?H.state=Object.assign({},H.state,C.getDerivedStateFromProps(H.props,H.state)):H.componentWillMount&&(H.componentWillMount(),H.state=H._nextState!==H.state?H._nextState:H.__s!==H.state?H.__s:H.state),M&&M(r),F=H.render(H.props,H.state,H.context)}else for(var T=g(C,n),E=0;H.__d&&E++<25;)H.__d=!1,M&&M(r),F=C.call(r.__c,O,T);return H.getChildContext&&(n=Object.assign({},n,H.getChildContext())),t.diffed&&t.diffed(r),m(F,n,a,!1!==a.shallowHighOrder,_,v)}C=(w=C).displayName||w!==Function&&w.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\\s*function\\s+([^( ]+)/)||\"\")[1];if(!t){for(var r=-1,n=y.length;n--;)if(y[n]===e){r=n;break}r<0&&(r=y.push(e)-1),t=\"UnnamedComponent\"+r}return t}(w)}var $,D,N=\"<\"+C;if(O){var P=Object.keys(O);a&&!0===a.sortAttributes&&P.sort();for(var W=0;W<P.length;W++){var I=P[W],R=O[I];if(\"children\"!==I){if(!i.test(I)&&(a&&a.allAttributes||\"key\"!==I&&\"ref\"!==I&&\"__self\"!==I&&\"__source\"!==I)){if(\"defaultValue\"===I)I=\"value\";else if(\"defaultChecked\"===I)I=\"checked\";else if(\"defaultSelected\"===I)I=\"selected\";else if(\"className\"===I){if(void 0!==O.class)continue;I=\"class\"}else _&&l.test(I)&&(I=I.toLowerCase().replace(/^xlink:?/,\"xlink:\"));if(\"htmlFor\"===I){if(O.for)continue;I=\"for\"}\"style\"===I&&R&&\"object\"==typeof R&&(R=p(R)),\"a\"===I[0]&&\"r\"===I[1]&&\"boolean\"==typeof R&&(R=String(R));var U=a.attributeHook&&a.attributeHook(I,R,n,a,j);if(U||\"\"===U)N+=U;else if(\"dangerouslySetInnerHTML\"===I)D=R&&R.__html;else if(\"textarea\"===C&&\"value\"===I)$=R;else if((R||0===R||\"\"===R)&&\"function\"!=typeof R){if(!(!0!==R&&\"\"!==R||(R=I,a&&a.xml))){N=N+\" \"+I;continue}if(\"value\"===I){if(\"select\"===C){v=R;continue}\"option\"===C&&v==R&&void 0===O.selected&&(N+=\" selected\")}N=N+\" \"+I+'=\"'+s(R)+'\"'}}}else $=R}}if(b){var V=N.replace(/\\n\\s*/,\" \");V===N||~V.indexOf(\"\\n\")?b&&~N.indexOf(\"\\n\")&&(N+=\"\\n\"):N=V}if(N+=\">\",i.test(C))throw new Error(C+\" is not a valid HTML tag name in \"+N);var q,z=o.test(C)||a.voidElements&&a.voidElements.test(C),Z=[];if(D)b&&u(D)&&(D=\"\\n\"+x+f(D,x)),N+=D;else if(null!=$&&d(q=[],$).length){for(var B=b&&~N.indexOf(\"\\n\"),G=!1,J=0;J<q.length;J++){var K=q[J];if(null!=K&&!1!==K){var Q=m(K,n,a,!0,\"svg\"===C||\"foreignObject\"!==C&&_,v);if(b&&!B&&u(Q)&&(B=!0),Q)if(b){var X=Q.length>0&&\"<\"!=Q[0];G&&X?Z[Z.length-1]+=Q:Z.push(Q),G=X}else Z.push(Q)}}if(b&&B)for(var Y=Z.length;Y--;)Z[Y]=\"\\n\"+x+f(Z[Y],x)}if(Z.length||D)N+=Z.join(\"\");else if(a&&a.xml)return N.substring(0,N.length-1)+\" />\";return!z||q||D?(b&&~N.indexOf(\"\\n\")&&(N+=\"\\n\"),N=N+\"</\"+C+\">\"):N=N.replace(/>$/,\" />\"),N}var b={shallow:!0};S.render=S;var x=function(e,t){return S(e,t,b)},k=[];function S(n,o,i){o=o||{};var l=t.__s;t.__s=!0;var a,s=r(e,null);return s.__k=[n],a=i&&(i.pretty||i.voidElements||i.sortAttributes||i.shallow||i.allAttributes||i.xml||i.attributeHook)?m(n,o,i):F(n,o,!1,void 0,s),t.__c&&t.__c(n,k),t.__s=l,k.length=0,a}function w(e){return null==e||\"boolean\"==typeof e?null:\"string\"==typeof e||\"number\"==typeof e||\"bigint\"==typeof e?r(null,null,e):e}function C(e,t){return\"className\"===e?\"class\":\"htmlFor\"===e?\"for\":\"defaultValue\"===e?\"value\":\"defaultChecked\"===e?\"checked\":\"defaultSelected\"===e?\"selected\":t&&l.test(e)?e.toLowerCase().replace(/^xlink:?/,\"xlink:\"):e}function O(e,t){return\"style\"===e&&null!=t&&\"object\"==typeof t?p(t):\"a\"===e[0]&&\"r\"===e[1]&&\"boolean\"==typeof t?String(t):t}var j=Array.isArray,A=Object.assign;function F(r,n,l,a,f){if(null==r||!0===r||!1===r||\"\"===r)return\"\";if(\"object\"!=typeof r)return\"function\"==typeof r?\"\":s(r);if(j(r)){var u=\"\";f.__k=r;for(var c=0;c<r.length;c++)u+=F(r[c],n,l,a,f),r[c]=w(r[c]);return u}if(void 0!==r.constructor)return\"\";r.__=f,t.__b&&t.__b(r);var _=r.type,p=r.props;if(\"function\"==typeof _){var d;if(_===e)d=p.children;else{d=_.prototype&&\"function\"==typeof _.prototype.render?function(e,r){var n=e.type,o=g(n,r),i=new n(e.props,o);e.__c=i,i.__v=e,i.__d=!0,i.props=e.props,null==i.state&&(i.state={}),null==i.__s&&(i.__s=i.state),i.context=o,n.getDerivedStateFromProps?i.state=A({},i.state,n.getDerivedStateFromProps(i.props,i.state)):i.componentWillMount&&(i.componentWillMount(),i.state=i.__s!==i.state?i.__s:i.state);var l=t.__r;return l&&l(e),i.render(i.props,i.state,i.context)}(r,n):function(e,r){var n,o=h(e,r),i=g(e.type,r);e.__c=o;for(var l=t.__r,a=0;o.__d&&a++<25;)o.__d=!1,l&&l(e),n=e.type.call(o,e.props,i);return n}(r,n);var v=r.__c;v.getChildContext&&(n=A({},n,v.getChildContext()))}var y=F(d=null!=d&&d.type===e&&null==d.key?d.props.children:d,n,l,a,r);return t.diffed&&t.diffed(r),r.__=void 0,t.unmount&&t.unmount(r),y}var m,b,x=\"<\";if(x+=_,p)for(var k in m=p.children,p){var S=p[k];if(!(\"key\"===k||\"ref\"===k||\"__self\"===k||\"__source\"===k||\"children\"===k||\"className\"===k&&\"class\"in p||\"htmlFor\"===k&&\"for\"in p||i.test(k)))if(S=O(k=C(k,l),S),\"dangerouslySetInnerHTML\"===k)b=S&&S.__html;else if(\"textarea\"===_&&\"value\"===k)m=S;else if((S||0===S||\"\"===S)&&\"function\"!=typeof S){if(!0===S||\"\"===S){S=k,x=x+\" \"+k;continue}if(\"value\"===k){if(\"select\"===_){a=S;continue}\"option\"!==_||a!=S||\"selected\"in p||(x+=\" selected\")}x=x+\" \"+k+'=\"'+s(S)+'\"'}}var H=x;if(x+=\">\",i.test(_))throw new Error(_+\" is not a valid HTML tag name in \"+x);var M=\"\",L=!1;if(b)M+=b,L=!0;else if(\"string\"==typeof m)M+=s(m),L=!0;else if(j(m)){r.__k=m;for(var T=0;T<m.length;T++){var E=m[T];if(m[T]=w(E),null!=E&&!1!==E){var $=F(E,n,\"svg\"===_||\"foreignObject\"!==_&&l,a,r);$&&(M+=$,L=!0)}}}else if(null!=m&&!1!==m&&!0!==m){r.__k=[w(m)];var D=F(m,n,\"svg\"===_||\"foreignObject\"!==_&&l,a,r);D&&(M+=D,L=!0)}if(t.diffed&&t.diffed(r),r.__=void 0,t.unmount&&t.unmount(r),L)x+=M;else if(o.test(_))return H+\" />\";return x+\"</\"+_+\">\"}S.shallowRender=x;export default S;export{S as render,S as renderToStaticMarkup,S as renderToString,x as shallowRender};\n//# sourceMappingURL=index.module.js.map\n","export class Config<T> {\n  private config: T;\n\n  constructor(initialConfig: T) {\n    this.config = initialConfig;\n  }\n\n  getConfig(): T {\n    return this.config;\n  }\n\n  setConfig(newConfig: T): void {\n    this.config = newConfig;\n  }\n}\n","export default function(t,e,l,n,r){for(e=e.split?e.split(\".\"):e,n=0;n<e.length;n++)t=t?t[e[n]]:r;return t===r?l:t}\n//# sourceMappingURL=dlv.es.js.map\n","import{h as r,Component as t}from\"preact\";var e,o={};function n(r,t,e){if(3===r.nodeType){var o=\"textContent\"in r?r.textContent:r.nodeValue||\"\";if(!1!==n.options.trim){var a=0===t||t===e.length-1;if((!(o=o.match(/^[\\s\\n]+$/g)&&\"all\"!==n.options.trim?\" \":o.replace(/(^[\\s\\n]+|[\\s\\n]+$)/g,\"all\"===n.options.trim||a?\"\":\" \"))||\" \"===o)&&e.length>1&&a)return null}return o}if(1!==r.nodeType)return null;var p=String(r.nodeName).toLowerCase();if(\"script\"===p&&!n.options.allowScripts)return null;var l,s,u=n.h(p,function(r){var t=r&&r.length;if(!t)return null;for(var e={},o=0;o<t;o++){var a=r[o],i=a.name,p=a.value;\"on\"===i.substring(0,2)&&n.options.allowEvents&&(p=new Function(p)),e[i]=p}return e}(r.attributes),(s=(l=r.childNodes)&&Array.prototype.map.call(l,n).filter(i))&&s.length?s:null);return n.visitor&&n.visitor(u),u}var a,i=function(r){return r},p={};function l(r){var t=(r.type||\"\").toLowerCase(),e=l.map;e&&e.hasOwnProperty(t)?(r.type=e[t],r.props=Object.keys(r.props||{}).reduce(function(t,e){var o;return t[(o=e,o.replace(/-(.)/g,function(r,t){return t.toUpperCase()}))]=r.props[e],t},{})):r.type=t.replace(/[^a-z0-9-]/i,\"\")}export default(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.setReviver=function(r){a=r},i.prototype.shouldComponentUpdate=function(r){var t=this.props;return r.wrap!==t.wrap||r.type!==t.type||r.markup!==t.markup},i.prototype.setComponents=function(r){if(this.map={},r)for(var t in r)if(r.hasOwnProperty(t)){var e=t.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,\"$1$3-$2$4\").toLowerCase();this.map[e]=r[t]}},i.prototype.render=function(t){var i=t.wrap;void 0===i&&(i=!0);var s,u=t.type,c=t.markup,m=t.components,v=t.reviver,f=t.onError,d=t[\"allow-scripts\"],h=t[\"allow-events\"],y=t.trim,w=function(r,t){var e={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&-1===t.indexOf(o)&&(e[o]=r[o]);return e}(t,[\"wrap\",\"type\",\"markup\",\"components\",\"reviver\",\"onError\",\"allow-scripts\",\"allow-events\",\"trim\"]),C=v||this.reviver||this.constructor.prototype.reviver||a||r;this.setComponents(m);var g={allowScripts:d,allowEvents:h,trim:y};try{s=function(r,t,a,i,s){var u=function(r,t){var o,n,a,i,p=\"html\"===t?\"text/html\":\"application/xml\";\"html\"===t?(i=\"body\",a=\"<!DOCTYPE html>\\n<html><body>\"+r+\"</body></html>\"):(i=\"xml\",a='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<xml>'+r+\"</xml>\");try{o=(new DOMParser).parseFromString(a,p)}catch(r){n=r}if(o||\"html\"!==t||((o=e||(e=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument(\"\");var r=document.createElement(\"iframe\");return r.style.cssText=\"position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;\",r.setAttribute(\"sandbox\",\"allow-forms\"),document.body.appendChild(r),r.contentWindow.document}())).open(),o.write(a),o.close()),o){var l=o.getElementsByTagName(i)[0],s=l.firstChild;return r&&!s&&(l.error=\"Document parse failed.\"),s&&\"parsererror\"===String(s.nodeName).toLowerCase()&&(s.removeChild(s.firstChild),s.removeChild(s.lastChild),l.error=s.textContent||s.nodeValue||n||\"Unknown error\",l.removeChild(s)),l}}(r,t);if(u&&u.error)throw new Error(u.error);var c=u&&u.body||u;l.map=i||p;var m=c&&function(r,t,e,a){return n.visitor=t,n.h=e,n.options=a||o,n(r)}(c,l,a,s);return l.map=null,m&&m.props&&m.props.children||null}(c,u,C,this.map,g)}catch(r){f?f({error:r}):\"undefined\"!=typeof console&&console.error&&console.error(\"preact-markup: \"+r)}if(!1===i)return s||null;var x=w.hasOwnProperty(\"className\")?\"className\":\"class\",b=w[x];return b?b.splice?b.splice(0,0,\"markup\"):\"string\"==typeof b?w[x]+=\" markup\":\"object\"==typeof b&&(b.markup=!0):w[x]=\"markup\",C(\"div\",w,s||null)},i}(t));\n//# sourceMappingURL=preact-markup.module.js.map\n","import { createContext, h, cloneElement } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport delve from 'dlv';\nimport Markup from 'preact-markup';\n\nvar IntlContext = createContext({ intl: {} });\n\n/** Check if an object is not null or undefined\n *\t@private\n */\nfunction defined(obj) {\n\treturn obj!==null && obj!==undefined;\n}\n\n\n/** A simpler Object.assign\n *  @private\n */\nfunction assign(obj, props) {\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\n\n/** Recursively copy keys from `source` to `target`, skipping truthy values already in `target`.\n *\t@private\n */\nfunction deepAssign(target, source) {\n\tvar out = assign({}, target);\n\tfor (var i in source) {\n\t\tif (source.hasOwnProperty(i)) {\n\t\t\tif (target[i] && source[i] && typeof target[i]==='object' && typeof source[i]==='object') {\n\t\t\t\tout[i] = deepAssign(target[i], source[i]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tout[i] = target[i] || source[i];\n\t\t\t}\n\t\t}\n\t}\n\treturn out;\n}\n\n/** select('foo,bar') creates a mapping: `{ foo, bar }`\n *\t@private\n */\nfunction select(properties) {\n\tproperties = properties || {};\n\tif (typeof properties==='string') {\n\t\tproperties = properties.split(',');\n\t}\n\tif ('join' in properties) {\n\t\tvar selected = {};\n\t\tfor (var i=0; i<properties.length; i++) {\n\t\t\tvar val = properties[i].trim();\n\t\t\tif (val) { selected[val.split('.').pop()] = val; }\n\t\t}\n\t\treturn selected;\n\t}\n\treturn properties;\n}\n\nfunction objectWithoutProperties (obj, exclude) { var target = {}; for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k]; return target; }\n\n\nvar URL_FLAG = /[?&#]intl=show/;\n\n\n/** `<IntlProvider>` is a nestable internationalization definition provider.\n *\tIt exposes an Intl scope & definition into the tree,\n *\tmaking them available to descendant components.\n *\n *\t> **Note:** When nested, gives precedence to keys higher up the tree!\n *\t> This means lower-level components can set their defaults by wrapping themselves\n *\t> in an `<IntlProvider>`, but still remain localizable by their parent components.\n *\n *\t@name IntlProvider\n *\t@param props\n *\t@param {String} [props.scope]\t\t\tNest `definition` under a root key, and set the active scope for the tree (essentially prefixing all `<Text />` keys).\n *\t@param {Boolean} [props.mark=false]\t\tIf `true`, all `<Text>` elements will be shown with a red/green background indicating whether they have valid Intl keys.\n *\t@param {Object} [props.definition={}]\tMerge the given definition into the current intl definition, giving the *current* definition precedence (i.e., only adding keys, acting as defaults)\n *\n *\t@example\n *\t// generally imported from a JSON file:\n *\tlet definition = {\n *\t\tfoo: 'Le Feux'\n *\t};\n *\n *\t<IntlProvider scope=\"weather\" definition={definition}>\n *\t\t<Text key=\"foo\">The Foo</Text>\n *\t</IntlProvider>\n *\n *\t// This will render the text:\n *\t\"Le Feux\"\n */\n\nfunction IntlProvider(ref) {\n\tvar scope = ref.scope;\n\tvar mark = ref.mark;\n\tvar definition = ref.definition;\n\tvar rest = objectWithoutProperties( ref, [\"scope\", \"mark\", \"definition\"] );\n\tvar props = rest;\n\n\tvar ref$1 = useContext(IntlContext);\n\tvar parentIntl = ref$1.intl;\n\tvar intl = assign({}, parentIntl || {});\n\n\t// set active scope for the tree if given\n\tif (scope) { intl.scope = scope; }\n\n\t// merge definition into current with lower precedence\n\tif (definition) {\n\t\tintl.dictionary = deepAssign(intl.dictionary || {}, definition);\n\t}\n\n\tif (mark || (typeof location!=='undefined' && String(location).match(URL_FLAG))) {\n\t\tintl.mark = true;\n\t}\n\n\treturn (\n\t\th( IntlContext.Provider, { value: { intl: intl } },\n\t\t\tprops.children\n\t\t)\n\t);\n}\n\n/**\n * Higher-order function that creates an `<IntlProvider />` wrapper component for the given component.  It\n * takes two forms depending on how many arguments it's given:\n * It can take a functional form like:\n * intl(ComponentToWrap, options)\n *\n * or it can take an annotation form like:\n * @intl(options)\n * class ComponentToWrap extends Component {}\n *\n *\t@param {Component or Object} args[0] If there are two arguments, the first argument is the Component to wrap in `<IntlProvider/>`. If there is just one argument, this is the options object to pass as `props` to `<IntlProvider/>`. See the definition of the options param below for details.\n *\t@param {Object} options If there are two arguments, the second argument is Passed as `props` to `<IntlProvider />`\n *\t@param [options.scope]\t\t\tNest `definition` under a root key, and set the active scope for the tree (essentially prefixing all `<Text />` keys).\n *\t@param [options.definition={}]\tMerge the given definition into the current intl definition, giving the *current* definition precedence (i.e., only adding keys, acting as defaults)\n */\nfunction intl(Child, options) {\n\tif (arguments.length<2) {\n\t\toptions = Child;\n\t\treturn function (Child) { return intl(Child, options); };\n\t}\n\tfunction IntlProviderWrapper(props) {\n\t\treturn h(\n\t\t\tIntlProvider,\n\t\t\toptions || {},\n\t\t\th(Child, props)\n\t\t);\n\t}\n\n\tIntlProviderWrapper.getWrappedComponent = Child && Child.getWrappedComponent || (function () { return Child; });\n\treturn IntlProviderWrapper;\n}\n\nvar EMPTY = {};\n\n/** Populate {{template.fields}} within a given string.\n *\n *\t@private\n *\t@param {String} template\tThe string containing fields to be resolved\n *\t@param {Object} [fields={}]\tOptionally nested object of fields, referencable from `template`.\n *\t@example\n *\t\ttemplate('foo{{bar}}', { bar:'baz' }) === 'foobaz'\n */\nfunction template(template, fields, scope, dictionary) {\n\treturn template && template.replace(/\\{\\{([\\w.-]+)\\}\\}/g, replacer.bind(null, fields || EMPTY, scope, dictionary));\n}\n\n/** Replacement callback for injecting fields into a String\n *\t@private\n */\nfunction replacer(currentFields, scope, dictionary, s, field) {\n\tvar parts = field.split('.'),\n\t\tv = currentFields;\n\tfor (var i=0; i<parts.length; i++) {\n\t\tv = v[parts[i]];\n\t\tif (v == null) { return ''; } // eslint-disable-line eqeqeq\n\n\t\t//allow field values to be <Text /> nodes\n\t\tif (v && v.type === Text) {\n\t\t\treturn translate(v.props.id, scope, dictionary, v.props.fields, v.props.plural, v.props.fallback);\n\t\t}\n\t}\n\t// allow for recursive {{config.xx}} references:\n\tif (typeof v==='string' && v.match(/\\{\\{/)) {\n\t\tv = template(v, currentFields);\n\t}\n\treturn v;\n}\n\n/** Attempts to look up a translated value from a given dictionary.\n *  Also supports json templating using the format: {{variable}}\n *  Falls back to default text.\n *\n *  @param {String} id  \t\t\tIntl field name/id (subject to scope)\n *  @param {String} [scope='']\t\tScope, which prefixes `id` with `${scope}.`\n *  @param {Object} dictionary\t\tA nested object containing translations\n *  @param {Object} [fields={}]\t\tTemplate fields for use by translated strings\n *  @param {Number} [plural]\t\tIndicates a quantity, used to trigger pluralization\n *  @param {String|Array} [fallback]\tText to return if no translation is found\n *  @returns {String} translated\n */\nfunction translate(id, scope, dictionary, fields, plural, fallback) {\n\tif (scope) { id = scope + '.' + id; }\n\n\tvar value = dictionary && delve(dictionary, id);\n\n\t// plural forms:\n\t// key: ['plural', 'singular']\n\t// key: { none, one, many }\n\t// key: { zero, one, other }\n\t// key: { singular, plural }\n\tif ((plural || plural===0) && value && typeof value==='object') {\n\t\tif (value.splice) {\n\t\t\tvalue = value[plural] || value[0];\n\t\t}\n\t\telse if (plural===0 && defined(value.none || value.zero)) {\n\t\t\tvalue = value.none || value.zero;\n\t\t}\n\t\telse if (plural===1 && defined(value.one || value.singular)) {\n\t\t\tvalue = value.one || value.singular;\n\t\t}\n\t\telse {\n\t\t\tvalue = value.some || value.many || value.plural || value.other || value;\n\t\t}\n\t}\n\n\treturn value && template(value, fields, scope, dictionary) || fallback || null;\n}\n\n/** Highlight/colorize the i18n'd node if `mark` is set on `intl` in context.  If not, just returns `value`\n *\n *\t@private\n *\t@param {String|VNode} value\tThe l10n'd text/vnode to highlight or pass through\n *\t@param {string} id\tThe key used to lookup the value in the intl dictionary\n */\nfunction HighlightI18N(ref) {\n\tvar value = ref.value;\n\tvar id = ref.id;\n\n\tvar ref$1 = useContext(IntlContext);\n\tvar intl = ref$1.intl;\n\n\tif (intl && intl.mark) {\n\t\tvar dictionaryKey = \"dictionary\" + (intl && intl.scope ? (\".\" + (intl.scope)) : '') + \".\" + id;\n\t\treturn (\n\t\t\th( 'mark', {\n\t\t\t\tstyle: {\n\t\t\t\t\tbackground: value\n\t\t\t\t\t\t? delve(intl, dictionaryKey)\n\t\t\t\t\t\t\t? 'rgba(119,231,117,.5)'\n\t\t\t\t\t\t\t: 'rgba(229,226,41,.5)'\n\t\t\t\t\t\t: 'rgba(228,147,51,.5)'\n\t\t\t\t}, title: id },\n\t\t\t\tvalue\n\t\t\t)\n\t\t);\n\t}\n\n\treturn value;\n}\n\n/** `<Text>` renders internationalized text.\n *\tIt attempts to look up translated values from a dictionary in context.\n *\n *\tTemplate strings can contain `{{field}}` placeholders,\n *\twhich injects values from the `fields` prop.\n *\n *\tWhen string lookup fails, renders its children as fallback text.\n *\n *\t@param {Object}       props               props\n *\t@param {String}       props.id            Key to look up in intl dictionary, within any parent scopes (`$scope1.$scope2.$id`)\n *\t@param {ReactElement} [props.children]    Fallback text if no definition is found\n *\t@param {Object}       [props.fields={}]   Values to inject into template `{{fields}}`. Values in the `fields` object will be coerced to strings, with the exception of `<Text/>` nodes which will be resolved to their translated value\n *\t@param {Number}       [props.plural]      Integer \"count\", used to select plural forms\n *\n *\t@example\n *\t// If there is no dictionary in context..\n *\t<Text id=\"foo\">The Foo</Text>\n *\t// ..produces the text:\n *\t\"The Foo\"\n *\n *\t@example\n *\t// Given a dictionary and some fields..\n *\t<IntlProvider definition={{ foo:'Le Feux {{bar}}' }}>\n *\t\t<Text id=\"foo\" fields={{ bar: 'BEAR' }}>The Foo</Text>\n *\t</IntlProvider>\n *\t// ..produces the text:\n *\t\"Le Feux BEAR\"\n *\n *\t@example\n *\t// Within a scope, both `id` and the definition are namespaced..\n *\t<IntlProvider scope=\"weather\" definition={{ foo:'Le Feux' }}>\n *\t\t<Text id=\"foo\">The Foo</Text>\n *\t</IntlProvider>\n *\t// ..produces the text:\n *\t\"Le Feux\"\n */\nfunction Text(ref) {\n\tvar id = ref.id;\n\tvar fallback = ref.children;\n\tvar plural = ref.plural;\n\tvar fields = ref.fields;\n\n\tvar ref$1 = useContext(IntlContext);\n\tvar intl = ref$1.intl;\n\n\tvar value = translate(\n\t\tid,\n\t\tintl && intl.scope,\n\t\tintl && intl.dictionary,\n\t\tfields,\n\t\tplural,\n\t\tfallback\n\t);\n\n\treturn h( HighlightI18N, { id: id, value: value });\n}\n\n/** Translates the property values in an Object, returning a copy.\n *\t**Note:** By default, `String` keys will be treated as Intl ID's.\n *\tPass `true` to return an Object containing *only* translated\n *\tvalues where the prop is a <Text /> node.\n *\n *\t@private\n *\t@param {Object} props\tAn object with values to translate\n *\t@param {Object} intl\tAn intl context object (eg: `context.intl`)\n *\t@param {Boolean} [onlyTextNodes=false]\tOnly process `<Text />` values\n *\t@returns {Object} translatedProps\n */\nfunction translateMapping(props, intl, onlyTextNodes) {\n\tvar out = {};\n\tintl = intl || {};\n\tprops = select(props);\n\tfor (var name in props) {\n\t\tif (props.hasOwnProperty(name) && props[name]) {\n\t\t\tvar def = props[name];\n\n\t\t\t// if onlyTextNodes=true, skip any props that aren't <Text /> vnodes\n\t\t\tif (!onlyTextNodes && typeof def==='string') {\n\t\t\t\tout[name] = translate(def, intl.scope, intl.dictionary);\n\t\t\t}\n\t\t\telse if (def.type===Text) {\n\t\t\t\t// it's a <Text />, just grab its props:\n\t\t\t\tdef = assign({\n\t\t\t\t\t// use children as fallback content\n\t\t\t\t\tfallback: def.props.children\n\t\t\t\t}, def.props);\n\t\t\t\tout[name] = translate(def.id, intl.scope, intl.dictionary, def.fields, def.plural, def.fallback);\n\t\t\t}\n\t\t}\n\t}\n\treturn out;\n}\n\n/** `<Localizer />` is a Compositional Component.\n *\tIt \"renders\" out any `<Text />` values in its child's props.\n *\n *\t@name Localizer\n *\t@param {Object} props\n *\t@param {Object} props.children\tChild components with props to localize.\n *\t@param {Object} context\n *\t@param {Object} context.intl\t\t[internal] dictionary and scope info\n *\t@example\n *\t<Localizer>\n *\t\t<input placeholder={<Text id=\"username.placeholder\" />} />\n *\t</Localizer>\n *\t// produces:\n *\t<input placeholder=\"foo\" />\n *\n *\t@example\n *\t<Localizer>\n *\t\t<abbr title={<Text id=\"oss-title\">Open Source Software</Text>}>\n *\t\t\t<Text id=\"oss\">OSS</Text>\n *\t\t</abbr>\n *\t</Localizer>\n *\t// produces:\n *\t<abbr title=\"Open Source Software\">OSS</abbr>\n */\nfunction Localizer(ref) {\n\tvar children = ref.children;\n\n\tvar ref$1 = useContext(IntlContext);\n\tvar intl = ref$1.intl;\n\n\treturn children && children.length\n\t\t? children.map(function (child) { return cloneElement(child, translateMapping(child.props, intl, true)); })\n\t\t: children && cloneElement(children, translateMapping(children.props, intl, true));\n}\n\nfunction objectWithoutProperties$1 (obj, exclude) { var target = {}; for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k]; return target; }\n\n/* eslint-disable react/no-danger */\n\n/** `<MarkupText>` is just like {@link Text} but it can also contain html markup in rendered strings.  It wraps its contents in a `<span>` tag.\n *\n *\t@param {Object} props\t\t\t\tprops\n *\t@param {String} props.id\t\t\tKey to look up in intl dictionary, within any parent scopes (`$scope1.$scope2.$id`)\n *\t@param {Object} [props.fields={}]\tValues to inject into template `{{fields}}`.  Values in the `fields` object will be coerced to strings, with the exception of `<Text/>` nodes which will be resolved to their translated value\n *\t@param {Number} [props.plural]\t\tInteger \"count\", used to select plural forms\n *\n *\t@example\n *\t// If there is no dictionary in context..\n *\t<MarkupText id=\"foo\"><b>The Foo</b></MarkupText>\n *\t// ..produces the vnode:\n *\t<span><b>The Foo</b></span>\n *\n *\t@example\n *\t// Given a dictionary and some fields..\n *\t<IntlProvider definition={{ foo:'Le Feux <b>{{bar}}</b>' }}>\n *\t\t<MarkupText id=\"foo\" fields={{ bar: 'BEAR' }}>The Foo</MarkupText>\n *\t</IntlProvider>\n *\t// ..produces the vnode:\n *\t<span>Le Feux <b>BEAR</b></span>\n *\n *\t@example\n *\t// Within a scope, both `id` and the definition are namespaced..\n *\t<IntlProvider scope=\"weather\" definition={{ foo:'Le <a href=\"http://foo.com\">Feux</a>' }}>\n *\t\t<MarkupText id=\"foo\">The Foo</MarkupText>\n *\t</IntlProvider>\n *\t// ..produces the vnode:\n *\t<span>Le <a href=\"http://foo.com\">Feux</a></span>\n *\n *\t@example\n *\t// renders nothing if there is no key match and no fallback\n *\t<div><MarkupText /></div>\n *\t// ..produces the vnode:\n *\t<div/>\n */\nfunction MarkupText(ref) {\n\tvar id = ref.id;\n\tvar fields = ref.fields;\n\tvar plural = ref.plural;\n\tvar children = ref.children;\n\tvar rest = objectWithoutProperties$1( ref, [\"id\", \"fields\", \"plural\", \"children\"] );\n\tvar props = rest;\n\n\treturn (\n\t\th( Localizer, null,\n\t\t\th( Html, Object.assign({}, { html: h( Text, { id: id, fields: fields, plural: plural, children: children }), id: id }, props))\n\t\t)\n\t);\n}\n\nfunction Html(ref) {\n\tvar html = ref.html;\n\tvar id = ref.id;\n\tvar rest = objectWithoutProperties$1( ref, [\"html\", \"id\"] );\n\tvar props = rest;\n\n\treturn (\n\t\th( HighlightI18N, {\n\t\t\tid: id, value: !html ? html : typeof html === 'string' ? h( Markup, Object.assign({}, { type: \"html\", trim: false }, props, { markup: html })) : h( 'span', null, html ) })\n\t);\n}\n\n/** `@withText()` is a Higher Order Component, often used as a decorator.\n *\n *\tIt wraps a child component and passes it translations\n *\tbased on a mapping to the dictionary & scope in context.\n *\n *\t@param {Object|Function|String} mapping\t\tMaps prop names to intl keys (or `<Text>` nodes).\n *\n *\t@example @withText({\n *\t\tplaceholder: 'user.placeholder'\n *\t})\n *\tclass Foo {\n *\t\t// now the `placeholder` prop is our localized String:\n *\t\trender({ placeholder }) {\n *\t\t\treturn <input placeholder={placeholder} />\n *\t\t}\n *\t}\n *\n *\t@example @withText({\n *\t\tplaceholder: <Text id=\"user.placeholder\">fallback text</Text>\n *\t})\n *\tclass Foo {\n *\t\trender({ placeholder }) {\n *\t\t\treturn <input placeholder={placeholder} />\n *\t\t}\n *\t}\n *\n *\t@example @withText('user.placeholder')\n *\tclass Foo {\n *\t\t// for Strings/Arrays, the last path segment becomes the prop name:\n *\t\trender({ placeholder }) {\n *\t\t\treturn <input placeholder={placeholder} />\n *\t\t}\n *\t}\n *\n *\t@example <caption>Works with functional components, too</caption>\n *\tconst Foo = withText('user.placeholder')( props =>\n *\t\t<input placeholder={props.placeholder} />\n *\t)\n *\n * \t@example <caption>getWrappedComponent() returns wrapped child Component</caption>\n *\tconst Foo = () => <div/>;\n *\tconst WrappedFoo = withText('user.placeholer')(Foo);\n *\tWrappedFoo.getWrappedComponent() === Foo; // true\n */\nfunction withText(mapping) {\n\treturn function withTextWrapper(Child) {\n\t\tfunction WithTextWrapper(props, context) {\n\t\t\tvar ref = useContext(IntlContext);\n\t\t\tvar intl = ref.intl;\n\n\t\t\tvar map = typeof mapping==='function' ? mapping(props, { intl: intl }) : mapping;\n\t\t\tvar translations = translateMapping(map, intl);\n\t\t\treturn h(Child, assign(assign({}, props), translations));\n\t\t}\n\n\t\tWithTextWrapper.getWrappedComponent = Child && Child.getWrappedComponent || (function () { return Child; });\n\t\treturn WithTextWrapper;\n\t};\n}\n\n/** `useText` is the hook version of {@link withText}\n *\n *\t@param {Object|Function|String} mapping\t\tMaps prop names to intl keys (or `<Text>` nodes).\n *\n *\t@example function MyComponent() {\n *\t\tconst { placeholder } = useText({\n *\t\t\tplaceholder: 'user.placeholder'\n *\t\t});\n *\t\treturn <input placeholder={placeholder} />\n *\t}\n *\n *\t@example function MyComponent() {\n *\t\tconst { placeholder } = useText({\n *\t\t\tplaceholder: <Text id=\"user.placeholder\">fallback text</Text>\n *\t\t});\n *\t\treturn <input placeholder={placeholder} />\n *\t}\n *\n *\t@example function MyComponent() {\n *\t\t// for Strings/Arrays, the last path segment becomes the prop name:\n *\t\tconst { placeholder } = useText('user.placeholder');\n *\n *\t\treturn <input placeholder={placeholder} />\n *\t}\n */\nfunction useText(mapping) {\n\tvar ref = useContext(IntlContext);\n\tvar intl = ref.intl;\n\n\treturn translateMapping(\n\t\ttypeof mapping==='function' ? mapping({ intl: intl }) : mapping,\n\t\tintl\n\t);\n}\n\nintl.intl = intl;\nintl.IntlContext = IntlContext;\nintl.IntlProvider = IntlProvider;\nintl.Text = Text;\nintl.MarkupText = MarkupText;\nintl.Localizer = Localizer;\nintl.withText = withText;\nintl.useText = useText;\nintl.translate = translate;\n\nexport default intl;\nexport { IntlContext, IntlProvider, Localizer, MarkupText, Text, intl, translate, useText, withText };\n//# sourceMappingURL=preact-i18n.esm.js.map\n","import { RefObject, VNode } from 'preact';\nimport {\n  StateUpdater,\n  useContext,\n  useState,\n  useRef,\n  useEffect,\n  useMemo,\n  useCallback,\n} from 'preact/hooks';\nimport { IntlContext, Lang } from '@adobe/elsie/i18n';\nimport { HTMLAttributes } from 'preact/compat';\n\ntype MutateElement = (elem: HTMLElement) => void;\n\ninterface State {\n  get: (key: string) => void;\n  set: (key: string, value: any) => void;\n}\n\ninterface SlotElement {\n  appendChild: MutateElement;\n  prependChild: MutateElement;\n  appendSibling: MutateElement;\n  prependSibling: MutateElement;\n}\n\ninterface PrivateContext<T> {\n  _setProps: StateUpdater<{}>;\n  _registerMethod: (\n    cb: (next: T & DefaultSlotContext<T>, state: State) => void\n  ) => void;\n  _htmlElementToVNode: (element: HTMLElement) => VNode;\n}\n\ninterface DefaultSlotContext<T> extends PrivateContext<T> {\n  dictionary: Lang;\n  getSlotElement: (key: string) => SlotElement;\n  replaceWith: MutateElement;\n  appendChild: MutateElement;\n  prependChild: MutateElement;\n  appendSibling: MutateElement;\n  prependSibling: MutateElement;\n  onChange: (cb: (next: T & DefaultSlotContext<T>) => void) => void;\n}\n\ntype Context<T> = T & ThisType<DefaultSlotContext<T>>; // NOSONAR\n\nexport type SlotProps<T = any> = (\n  ctx: T & DefaultSlotContext<T>,\n  element: HTMLDivElement | null\n) => void;\n\nexport type SlotMethod<P = any> = (\n  callback: (next: unknown, state: State) => P\n) => void;\n\n// Slot Hook\nexport function useSlot<K, V extends HTMLDivElement>(\n  // @ts-ignore\n  context: Context<K> = {},\n  callback?: SlotProps<K>,\n  render?: Function\n): [RefObject<V>, Record<string, any>] {\n  // HTML Element\n  const elementRef = useRef<V>(null);\n\n  const loadedRef = useRef(false);\n\n  // Methods\n  const methodsRef = useRef<any>([]);\n\n  // Children VNodes\n  const [props, _setProps] = useState<Record<string, any>>({\n    children: [render?.({})],\n  });\n\n  // Attributes\n  const [_state, setState] = useState<any>({});\n\n  const state = useMemo(\n    () => ({\n      get: (key: string) => _state[key],\n      set: (key: string, value: any) => {\n        setState({ ...state, [key]: value });\n      },\n    }),\n    [_state]\n  );\n\n  /** Internationalization */\n  const { intl }: any = useContext(IntlContext);\n\n  // @ts-ignore\n  context.dictionary = intl.dictionary;\n\n  /** Privates */\n  // @ts-ignore\n  context._setProps = _setProps;\n\n  const _registerMethod = useCallback((callback: Function) => {\n    if (typeof callback === 'function') {\n      methodsRef.current.push(callback);\n    } else {\n      console.warn('Skipped: Invalid _registerMethod', callback);\n    }\n  }, []);\n\n  // @ts-ignore\n  context._registerMethod = _registerMethod;\n\n  const _htmlElementToVNode = useCallback((elem: HTMLElement) => {\n    return (\n      <div\n        data-slot-html-element={elem.tagName.toLowerCase()}\n        ref={(refElem) => {\n          refElem?.appendChild(elem);\n        }}\n      />\n    );\n  }, []);\n\n  // @ts-ignore\n  context._htmlElementToVNode = _htmlElementToVNode;\n\n  /** Prebuilt Methods */\n  // @ts-ignore\n  context.getSlotElement = useCallback((key: string) => {\n    const element = document.querySelector(`[data-slot-key=\"${key}\"]`);\n\n    if (!element) return;\n\n    return {\n      appendChild: (elem: HTMLElement) => {\n        element.appendChild(elem);\n      },\n\n      prependChild: (elem: HTMLElement) => {\n        element.insertBefore(elem, element.firstChild);\n      },\n\n      appendSibling: (elem: HTMLElement) => {\n        const parent = element.parentNode;\n        parent?.insertBefore(elem, element.nextSibling);\n      },\n\n      prependSibling: (elem: HTMLElement) => {\n        const parent = element.parentNode;\n        parent?.insertBefore(elem, element);\n      },\n    };\n  }, []);\n\n  // @ts-ignore\n  context.onChange = useCallback((callback: Function) => {\n    methodsRef.current.push(callback);\n  }, []);\n\n  // @ts-ignore\n  context.replaceWith = useCallback(\n    (elem: HTMLElement) => {\n      // @ts-ignore\n      _registerMethod((next) => {\n        // @ts-ignore\n        const children = _htmlElementToVNode(elem);\n\n        next._setProps({ children: [children] });\n      });\n    },\n    [_htmlElementToVNode, _registerMethod]\n  );\n\n  // @ts-ignore\n  context.appendChild = useCallback(\n    (elem: HTMLElement) => {\n      // @ts-ignore\n      _registerMethod((next) => {\n        // @ts-ignore\n        const vnode = _htmlElementToVNode(elem);\n\n        next._setProps((prev: any) => {\n          return {\n            ...prev,\n            children: [...prev.children, vnode],\n          };\n        });\n      });\n    },\n    [_htmlElementToVNode, _registerMethod]\n  );\n\n  // @ts-ignore\n  context.prependChild = useCallback(\n    (elem: HTMLElement) => {\n      // @ts-ignore\n      _registerMethod((next) => {\n        // @ts-ignore\n        const vnode = _htmlElementToVNode(elem);\n\n        next._setProps((prev: any) => {\n          return {\n            ...prev,\n            children: [vnode, ...prev.children],\n          };\n        });\n      });\n    },\n    [_htmlElementToVNode, _registerMethod]\n  );\n\n  // @ts-ignore\n  context.appendSibling = useCallback(\n    (elem: HTMLElement) => {\n      // @ts-ignore\n      _registerMethod(() => {\n        const parent = elementRef.current?.parentNode;\n\n        parent?.insertBefore(elem, elementRef.current?.nextSibling ?? null);\n      });\n    },\n    [_registerMethod]\n  );\n\n  // @ts-ignore\n  context.prependSibling = useCallback(\n    (elem: HTMLElement) => {\n      // @ts-ignore\n      _registerMethod(() => {\n        const parent = elementRef.current?.parentNode;\n\n        parent?.insertBefore(elem, elementRef.current);\n      });\n    },\n    [_registerMethod]\n  );\n\n  // Initialization\n  useEffect(() => {\n    const element = elementRef.current;\n\n    if (!callback || !element) return;\n\n    // Run callback\n    try {\n      callback(context as K & DefaultSlotContext<K>, element);\n    } catch (error) {\n      console.error(`Error in \"${callback.name}\" Slot callback`, error);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Lifecycles\n  useEffect(() => {\n    // Reset\n    _setProps({ children: [render?.(props)] });\n\n    // Run all registered methods\n    methodsRef.current.forEach((method: any) => {\n      method(context, state);\n    });\n\n    // Required to trigger re-render of render method\n    if (render?.name === 'render' && loadedRef.current === false) {\n      loadedRef.current = true;\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify(context), JSON.stringify(_state), loadedRef.current]);\n\n  return [elementRef, props];\n}\n\n// Slot Component\ninterface SlotPropsComponent<T>\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'slot'> {\n  name: string;\n  slot?: SlotProps<T>;\n  context?: Context<T>;\n  render?: (props: Record<string, any>) => VNode | VNode[];\n}\n\nexport function Slot<T>({\n  name,\n  slot,\n  context,\n  children,\n  render,\n  ...props\n}: Readonly<SlotPropsComponent<T>>) {\n  const [elementRef, slotProps] = useSlot<T, HTMLDivElement>(\n    context,\n    slot,\n    render ?? (() => children)\n  );\n\n  useEffect(() => {\n    if (!name) console.warn('Slot \"name\" is required');\n  }, [name]);\n\n  return (\n    <div {...props} ref={elementRef} data-slot={name}>\n      {slotProps.children}\n    </div>\n  );\n}\n\n// Debugger\n\n// @ts-ignore\nwindow.DROPINS = window.DROPINS || {};\n\n// @ts-ignore\nwindow.DROPINS.showSlots = async (state) => {\n  // cache state in session storage\n  window.sessionStorage.setItem(\n    'dropin-debugger--show-slots',\n    state.toString()\n  );\n\n  document.body.classList.toggle('dropin-debugger--show-slots', state);\n\n  if (state) {\n    try {\n      await import('@adobe/elsie/components/UIProvider/debugger.css');\n    } catch (error) {}\n  }\n};\n\n// @ts-ignore\nwindow.DROPINS.showSlots(\n  window.sessionStorage.getItem('dropin-debugger--show-slots') === 'true'\n);\n","class ImageParamsKeyMap {\n  private _map?: { [key: string]: string } | undefined;\n\n  get map() {\n    return this._map;\n  }\n\n  set map(value: typeof this._map) {\n    this._map = value;\n  }\n\n  public getMethods() {\n    return {\n      setMap: (value: typeof this._map) => {\n        this.map = value;\n      },\n      getMap: () => this.map,\n    };\n  }\n}\n\nconst keyMap = new ImageParamsKeyMap();\n\nexport const { setMap: setImageParamsKeyMap, getMap: getImageParamsKeyMap } =\n  keyMap.getMethods();\n","import { Config, setImageParamsKeyMap } from '@adobe/elsie/lib';\n\ntype Listener = { off(): void };\n\ntype Listeners<T> = (config?: T) => Array<Listener | undefined>;\n\ntype Init<T> = (config?: T) => Promise<void>;\n\ntype Options<T> = { init: Init<T>; listeners: Listeners<T> };\n\nexport class Initializer<T> {\n  private _listeners: Listener[] = [];\n  listeners: Listeners<T>;\n  init: Init<T>;\n  config = new Config<T>({} as any);\n\n  constructor({ init, listeners }: Options<T>) {\n    this.listeners = (config) => {\n      // Unbind existing listeners\n      this._listeners.forEach((listener) => listener.off());\n      // Bind new listeners\n      return (this._listeners = listeners(config) as Listener[]);\n    };\n\n    this.init = (options) => {\n      const { imageParamsKeyMap, ...rest } = options as any;\n      this.config.setConfig({ ...this.config.getConfig(), ...rest });\n      setImageParamsKeyMap(imageParamsKeyMap);\n      return init(options);\n    };\n  }\n}\n\ntype Initializers = [Initializer<any>, { [key: string]: any } | undefined][];\n\nexport class initializers {\n  static _initializers: Initializers = [];\n  static _mounted: boolean = false;\n  static _imageParamsKeyMap: { [key: string]: string } | undefined = undefined;\n\n  static register(\n    initializer: Initializer<any>,\n    options?: { [key: string]: any }\n  ) {\n    if (initializers._mounted) {\n      initializer.listeners?.(options);\n      initializer.init?.(options);\n    }\n    initializers._initializers.push([initializer, options]);\n  }\n\n  static mount() {\n    initializers._mounted = true;\n    // In this specific order\n    // 1. Bind events\n    initializers._initializers?.forEach(([initializer, options]) => {\n      initializer.listeners?.(options);\n    });\n\n    // 2. Initialize APIs\n    initializers._initializers?.forEach(([initializer, options]) => {\n      initializer.init?.({\n        imageParamsKeyMap: initializers._imageParamsKeyMap,\n        ...options,\n      });\n    });\n  }\n\n  static setImageParamKeys(params: { [key: string]: any }) {\n    initializers._imageParamsKeyMap = params;\n  }\n}\n"],"file":"initializer.js"}