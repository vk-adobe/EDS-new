var ge=Object.defineProperty;var me=(e,t,r)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var te=(e,t,r)=>(me(e,typeof t!="symbol"?t+"":t,r),r);import{useState as ye,useEffect as be}from"@dropins/tools/preact-hooks.js";import{events as xe}from"@dropins/tools/event-bus.js";import{c as we}from"./initialize.js";import{jsx as M}from"@dropins/tools/preact-jsx-runtime.js";import{V as re,d as Oe,U as Se}from"./UIProvider.js";import{options as _,h as de,Fragment as W,render as ne}from"@dropins/tools/preact.js";import"./image-params-keymap.js";import"@dropins/tools/preact-compat.js";var Ce=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,ce=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,Z=/[\s\n\\/='"\0<>]/,pe=/^xlink:?./,Ae=/["&<]/;function $(e){if(Ae.test(e+="")===!1)return e;for(var t=0,r=0,o="",c="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:c="&quot;";break;case 38:c="&amp;";break;case 60:c="&lt;";break;default:continue}r!==t&&(o+=e.slice(t,r)),o+=c,t=r+1}return r!==t&&(o+=e.slice(t,r)),o}var ie=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},oe=function(e,t,r){return String(e).length>40||String(e).indexOf(`
`)!==-1||String(e).indexOf("<")!==-1},se={},je=/([A-Z])/g;function _e(e){var t="";for(var r in e){var o=e[r];o!=null&&o!==""&&(t&&(t+=" "),t+=r[0]=="-"?r:se[r]||(se[r]=r.replace(je,"-$1").toLowerCase()),t=typeof o=="number"&&Ce.test(r)===!1?t+": "+o+"px;":t+": "+o+";")}return t||void 0}function I(e,t){return Array.isArray(t)?t.reduce(I,e):t!=null&&t!==!1&&e.push(t),e}function ae(){this.__d=!0}function he(e,t){return{__v:e,context:t,props:e.props,setState:ae,forceUpdate:ae,__d:!0,__h:[]}}function q(e,t){var r=e.contextType,o=r&&t[r.__c];return r!=null?o?o.props.value:r.__:t}var Q=[];function N(e,t,r,o,c,h){if(e==null||typeof e=="boolean")return"";if(typeof e!="object")return typeof e=="function"?"":$(e);var p=r.pretty,u=p&&typeof p=="string"?p:"	";if(Array.isArray(e)){for(var b="",y=0;y<e.length;y++)p&&y>0&&(b+=`
`),b+=N(e[y],t,r,o,c,h);return b}if(e.constructor!==void 0)return"";var j,f=e.type,d=e.props,F=!1;if(typeof f=="function"){if(F=!0,!r.shallow||!o&&r.renderRootComponent!==!1){if(f===W){var m=[];return I(m,e.props.children),N(m,t,r,r.shallowHighOrder!==!1,c,h)}var v,n=e.__c=he(e,t);_.__b&&_.__b(e);var T=_.__r;if(f.prototype&&typeof f.prototype.render=="function"){var C=q(f,t);(n=e.__c=new f(d,C)).__v=e,n._dirty=n.__d=!0,n.props=d,n.state==null&&(n.state={}),n._nextState==null&&n.__s==null&&(n._nextState=n.__s=n.state),n.context=C,f.getDerivedStateFromProps?n.state=Object.assign({},n.state,f.getDerivedStateFromProps(n.props,n.state)):n.componentWillMount&&(n.componentWillMount(),n.state=n._nextState!==n.state?n._nextState:n.__s!==n.state?n.__s:n.state),T&&T(e),v=n.render(n.props,n.state,n.context)}else for(var D=q(f,t),L=0;n.__d&&L++<25;)n.__d=!1,T&&T(e),v=f.call(e.__c,d,D);return n.getChildContext&&(t=Object.assign({},t,n.getChildContext())),_.diffed&&_.diffed(e),N(v,t,r,r.shallowHighOrder!==!1,c,h)}f=(j=f).displayName||j!==Function&&j.name||function(X){var J=(Function.prototype.toString.call(X).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!J){for(var V=-1,K=Q.length;K--;)if(Q[K]===X){V=K;break}V<0&&(V=Q.push(X)-1),J="UnnamedComponent"+V}return J}(j)}var w,x,l="<"+f;if(d){var g=Object.keys(d);r&&r.sortAttributes===!0&&g.sort();for(var A=0;A<g.length;A++){var i=g[A],a=d[i];if(i!=="children"){if(!Z.test(i)&&(r&&r.allAttributes||i!=="key"&&i!=="ref"&&i!=="__self"&&i!=="__source")){if(i==="defaultValue")i="value";else if(i==="defaultChecked")i="checked";else if(i==="defaultSelected")i="selected";else if(i==="className"){if(d.class!==void 0)continue;i="class"}else c&&pe.test(i)&&(i=i.toLowerCase().replace(/^xlink:?/,"xlink:"));if(i==="htmlFor"){if(d.for)continue;i="for"}i==="style"&&a&&typeof a=="object"&&(a=_e(a)),i[0]==="a"&&i[1]==="r"&&typeof a=="boolean"&&(a=String(a));var s=r.attributeHook&&r.attributeHook(i,a,t,r,F);if(s||s==="")l+=s;else if(i==="dangerouslySetInnerHTML")x=a&&a.__html;else if(f==="textarea"&&i==="value")w=a;else if((a||a===0||a==="")&&typeof a!="function"){if(!(a!==!0&&a!==""||(a=i,r&&r.xml))){l=l+" "+i;continue}if(i==="value"){if(f==="select"){h=a;continue}f==="option"&&h==a&&d.selected===void 0&&(l+=" selected")}l=l+" "+i+'="'+$(a)+'"'}}}else w=a}}if(p){var O=l.replace(/\n\s*/," ");O===l||~O.indexOf(`
`)?p&&~l.indexOf(`
`)&&(l+=`
`):l=O}if(l+=">",Z.test(f))throw new Error(f+" is not a valid HTML tag name in "+l);var E,ve=ce.test(f)||r.voidElements&&r.voidElements.test(f),S=[];if(x)p&&oe(x)&&(x=`
`+u+ie(x,u)),l+=x;else if(w!=null&&I(E=[],w).length){for(var z=p&&~l.indexOf(`
`),H=!1,Y=0;Y<E.length;Y++){var B=E[Y];if(B!=null&&B!==!1){var k=N(B,t,r,!0,f==="svg"||f!=="foreignObject"&&c,h);if(p&&!z&&oe(k)&&(z=!0),k)if(p){var ee=k.length>0&&k[0]!="<";H&&ee?S[S.length-1]+=k:S.push(k),H=ee}else S.push(k)}}if(p&&z)for(var G=S.length;G--;)S[G]=`
`+u+ie(S[G],u)}if(S.length||x)l+=S.join("");else if(r&&r.xml)return l.substring(0,l.length-1)+" />";return!ve||E||x?(p&&~l.indexOf(`
`)&&(l+=`
`),l=l+"</"+f+">"):l=l.replace(/>$/," />"),l}var De={shallow:!0};U.render=U;var ke=function(e,t){return U(e,t,De)},le=[];function U(e,t,r){t=t||{};var o=_.__s;_.__s=!0;var c,h=de(W,null);return h.__k=[e],c=r&&(r.pretty||r.voidElements||r.sortAttributes||r.shallow||r.allAttributes||r.xml||r.attributeHook)?N(e,t,r):P(e,t,!1,void 0,h),_.__c&&_.__c(e,le),_.__s=o,le.length=0,c}function R(e){return e==null||typeof e=="boolean"?null:typeof e=="string"||typeof e=="number"||typeof e=="bigint"?de(null,null,e):e}function Fe(e,t){return e==="className"?"class":e==="htmlFor"?"for":e==="defaultValue"?"value":e==="defaultChecked"?"checked":e==="defaultSelected"?"selected":t&&pe.test(e)?e.toLowerCase().replace(/^xlink:?/,"xlink:"):e}function Te(e,t){return e==="style"&&t!=null&&typeof t=="object"?_e(t):e[0]==="a"&&e[1]==="r"&&typeof t=="boolean"?String(t):t}var fe=Array.isArray,ue=Object.assign;function P(e,t,r,o,c){if(e==null||e===!0||e===!1||e==="")return"";if(typeof e!="object")return typeof e=="function"?"":$(e);if(fe(e)){var h="";c.__k=e;for(var p=0;p<e.length;p++)h+=P(e[p],t,r,o,c),e[p]=R(e[p]);return h}if(e.constructor!==void 0)return"";e.__=c,_.__b&&_.__b(e);var u=e.type,b=e.props;if(typeof u=="function"){var y;if(u===W)y=b.children;else{y=u.prototype&&typeof u.prototype.render=="function"?function(g,A){var i=g.type,a=q(i,A),s=new i(g.props,a);g.__c=s,s.__v=g,s.__d=!0,s.props=g.props,s.state==null&&(s.state={}),s.__s==null&&(s.__s=s.state),s.context=a,i.getDerivedStateFromProps?s.state=ue({},s.state,i.getDerivedStateFromProps(s.props,s.state)):s.componentWillMount&&(s.componentWillMount(),s.state=s.__s!==s.state?s.__s:s.state);var O=_.__r;return O&&O(g),s.render(s.props,s.state,s.context)}(e,t):function(g,A){var i,a=he(g,A),s=q(g.type,A);g.__c=a;for(var O=_.__r,E=0;a.__d&&E++<25;)a.__d=!1,O&&O(g),i=g.type.call(a,g.props,s);return i}(e,t);var j=e.__c;j.getChildContext&&(t=ue({},t,j.getChildContext()))}var f=P(y=y!=null&&y.type===W&&y.key==null?y.props.children:y,t,r,o,e);return _.diffed&&_.diffed(e),e.__=void 0,_.unmount&&_.unmount(e),f}var d,F,m="<";if(m+=u,b)for(var v in d=b.children,b){var n=b[v];if(!(v==="key"||v==="ref"||v==="__self"||v==="__source"||v==="children"||v==="className"&&"class"in b||v==="htmlFor"&&"for"in b||Z.test(v))){if(n=Te(v=Fe(v,r),n),v==="dangerouslySetInnerHTML")F=n&&n.__html;else if(u==="textarea"&&v==="value")d=n;else if((n||n===0||n==="")&&typeof n!="function"){if(n===!0||n===""){n=v,m=m+" "+v;continue}if(v==="value"){if(u==="select"){o=n;continue}u!=="option"||o!=n||"selected"in b||(m+=" selected")}m=m+" "+v+'="'+$(n)+'"'}}}var T=m;if(m+=">",Z.test(u))throw new Error(u+" is not a valid HTML tag name in "+m);var C="",D=!1;if(F)C+=F,D=!0;else if(typeof d=="string")C+=$(d),D=!0;else if(fe(d)){e.__k=d;for(var L=0;L<d.length;L++){var w=d[L];if(d[L]=R(w),w!=null&&w!==!1){var x=P(w,t,u==="svg"||u!=="foreignObject"&&r,o,e);x&&(C+=x,D=!0)}}}else if(d!=null&&d!==!1&&d!==!0){e.__k=[R(d)];var l=P(d,t,u==="svg"||u!=="foreignObject"&&r,o,e);l&&(C+=l,D=!0)}if(_.diffed&&_.diffed(e),e.__=void 0,_.unmount&&_.unmount(e),D)m+=C;else if(ce.test(u))return T+" />";return m+"</"+u+">"}U.shallowRender=ke;class Le{constructor(t){te(this,"_provider");this._provider=t}render(t,r){return async o=>{var h;if(!t)throw new Error("Component is not defined");if(!o)throw new Error("Root element is not defined");const c=await((h=t.getInitialData)==null?void 0:h.call(t,r))??{};ne(M(re,{node:this._provider,...this._provider.props,children:M(t,{...r,initialData:c})}),o)}}unmount(t){if(!t)throw new Error("Root element is not defined");ne(null,t)}async toString(t,r,o){var h;if(!t)throw new Error("Component is not defined");const c=await((h=t.getInitialData)==null?void 0:h.call(t,r))??{};return U(M(re,{node:this._provider,...this._provider.props,children:M(t,{...r,initialData:c})}),{},{...o})}}const Ee={Header:{title:"{{name}}, thank you for your order!",defaultTitle:"Thank you for your order!",order:"ORDER #{{order}}"},InlineAlert:{dismissLabel:"Dismiss Alert"},OrderSearchForm:{title:"Enter your information to view order details",description:"You can find your order number in the receipt you received via email.",button:"View Order",email:"Email",postcode:"Zip Code",orderNumber:"Order Number"},OrderSummary:{title:"Order summary",total:"Total",totalExclTax:"Total excluding taxes",subtotal:"Subtotal",tax:"Tax",taxTotal:"Tax total",taxBreakdown:"Taxes",includingTaxes:"Including taxes",shipping:"Shipping",freeShipping:"Free shipping"},Message:{title:"Your order is confirmed",description:"We have successfully processed your order and will be soon prepared for shipping. <br /> You will also receive an email with details and we will let you know when your order has shipped."},Details:{title:"Order details",contact:"Contact details",shippingAddress:"Shipping address",billingAddress:"Billing address",shippingMethod:"Shipping method",freeShipping:"Free shipping",paymentMethod:"Payment method"},Footer:{continueShopping:"Continue shopping",help:"Need help?",contactSupport:"Contact us"},CartSummary:{title:"Your order",GiftCard:{sender:"Sender",recipient:"Recipient"}},Errors:{invalidOrder:"Invalid order. Please try again.",invalidSearch:"No order found with these order details.",unknown:"Something went wrong. Please try again."}},Me={OrderConfirmation:Ee},Ne={default:Me},Pe=({children:e})=>{var h;const[t,r]=ye(),o=(h=we.getConfig())==null?void 0:h.langDefinitions;be(()=>{const p=xe.on("locale",u=>{u!==t&&r(u)},{eager:!0});return()=>{p==null||p.off()}},[t]);const c=Oe(Ne,o??{});return M(Se,{lang:t,langDefinitions:c,children:e})},Ge=new Le(M(Pe,{}));export{Ge as render};
//# sourceMappingURL=render.js.map
