import*as t from"@dropins/tools/event-bus.js";import*as n from"@dropins/tools/fetch-graphql.js";import*as e from"@dropins/tools/preact-compat.js";import*as r from"@dropins/tools/preact-hooks.js";import*as i from"@dropins/tools/preact-jsx-runtime.js";import*as o from"@dropins/tools/preact.js";export const id=4;export const ids=[4];export const modules={1520:(t,n,e)=>{e.d(n,{OC:()=>m});var r=e(7320),i=e(2720);function o(){throw new Error("Cycle detected")}var s=Symbol.for("preact-signals");function a(){if(p>1)p--;else{for(var t,n=!1;void 0!==l;){var e=l;for(l=void 0,c++;void 0!==e;){var r=e.o;if(e.o=void 0,e.f&=-3,!(8&e.f)&&y(e))try{e.c()}catch(e){n||(t=e,n=!0)}e=r}}if(c=0,p--,n)throw t}}var u=void 0;var f,l=void 0,p=0,c=0,d=0;function v(t){if(void 0!==u){var n=t.n;if(void 0===n||n.t!==u)return n={i:0,S:t,p:u.s,n:void 0,t:u,e:void 0,x:void 0,r:n},void 0!==u.s&&(u.s.n=n),u.s=n,t.n=n,32&u.f&&t.S(n),n;if(-1===n.i)return n.i=0,void 0!==n.n&&(n.n.p=n.p,void 0!==n.p&&(n.p.n=n.n),n.p=u.s,n.n=void 0,u.s.n=n,u.s=n),n}}function h(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function m(t){return new h(t)}function y(t){for(var n=t.s;void 0!==n;n=n.n)if(n.S.i!==n.i||!n.S.h()||n.S.i!==n.i)return!0;return!1}function g(t){for(var n=t.s;void 0!==n;n=n.n){var e=n.S.n;if(void 0!==e&&(n.r=e),n.S.n=n,n.i=-1,void 0===n.n){t.s=n;break}}}function _(t){for(var n=t.s,e=void 0;void 0!==n;){var r=n.p;-1===n.i?(n.S.U(n),void 0!==r&&(r.n=n.n),void 0!==n.n&&(n.n.p=r)):e=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=r}t.s=e}function b(t){h.call(this,void 0),this.x=t,this.s=void 0,this.g=d-1,this.f=4}function w(t){var n=t.u;if(t.u=void 0,"function"==typeof n){p++;var e=u;u=void 0;try{n()}catch(n){throw t.f&=-2,t.f|=8,x(t),n}finally{u=e,a()}}}function x(t){for(var n=t.s;void 0!==n;n=n.n)n.S.U(n);t.x=void 0,t.s=void 0,w(t)}function k(t){if(u!==this)throw new Error("Out-of-order effect");_(this),u=t,this.f&=-2,8&this.f&&x(this),a()}function S(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function j(t){var n=new S(t);try{n.c()}catch(t){throw n.d(),t}return n.d.bind(n)}function O(t,n){r.options[t]=n.bind(null,r.options[t]||function(){})}function C(t){f&&f(),f=t&&t.S()}function E(t){var n=this,e=t.data,o=function(t){return(0,i.useMemo)((function(){return m(t)}),[])}(e);o.value=e;var s=(0,i.useMemo)((function(){for(var t=n.__v;t=t.__;)if(t.__c){t.__c.__$f|=4;break}return n.__$u.c=function(){var t;(0,r.isValidElement)(s.peek())||3!==(null==(t=n.base)?void 0:t.nodeType)?(n.__$f|=1,n.setState({})):n.base.data=s.peek()},function(t){return new b(t)}((function(){var t=o.value.value;return 0===t?0:!0===t?"":t||""}))}),[]);return s.value}function I(t,n,e,r){var i=n in t&&void 0===t.ownerSVGElement,o=m(e);return{o:function(t,n){o.value=t,r=n},d:j((function(){var e=o.value.value;r[n]!==e&&(r[n]=e,i?t[n]=e:e?t.setAttribute(n,e):t.removeAttribute(n))}))}}h.prototype.brand=s,h.prototype.h=function(){return!0},h.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},h.prototype.U=function(t){if(void 0!==this.t){var n=t.e,e=t.x;void 0!==n&&(n.x=e,t.e=void 0),void 0!==e&&(e.e=n,t.x=void 0),t===this.t&&(this.t=e)}},h.prototype.subscribe=function(t){var n=this;return j((function(){var e=n.value,r=32&this.f;this.f&=-33;try{t(e)}finally{this.f|=r}}))},h.prototype.valueOf=function(){return this.value},h.prototype.toString=function(){return this.value+""},h.prototype.toJSON=function(){return this.value},h.prototype.peek=function(){return this.v},Object.defineProperty(h.prototype,"value",{get:function(){var t=v(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(u instanceof b&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){c>100&&o(),this.v=t,this.i++,d++,p++;try{for(var n=this.t;void 0!==n;n=n.x)n.t.N()}finally{a()}}}}),(b.prototype=new h).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===d)return!0;if(this.g=d,this.f|=1,this.i>0&&!y(this))return this.f&=-2,!0;var t=u;try{g(this),u=this;var n=this.x();(16&this.f||this.v!==n||0===this.i)&&(this.v=n,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return u=t,_(this),this.f&=-2,!0},b.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var n=this.s;void 0!==n;n=n.n)n.S.S(n)}h.prototype.S.call(this,t)},b.prototype.U=function(t){if(void 0!==this.t&&(h.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var n=this.s;void 0!==n;n=n.n)n.S.U(n)}},b.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},b.prototype.peek=function(){if(this.h()||o(),16&this.f)throw this.v;return this.v},Object.defineProperty(b.prototype,"value",{get:function(){1&this.f&&o();var t=v(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),S.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var n=this.x();"function"==typeof n&&(this.u=n)}finally{t()}},S.prototype.S=function(){1&this.f&&o(),this.f|=1,this.f&=-9,w(this),g(this),p++;var t=u;return u=this,k.bind(this,t)},S.prototype.N=function(){2&this.f||(this.f|=2,this.o=l,l=this)},S.prototype.d=function(){this.f|=8,1&this.f||x(this)},E.displayName="_st",Object.defineProperties(h.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:E},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),O("__b",(function(t,n){if("string"==typeof n.type){var e,r=n.props;for(var i in r)if("children"!==i){var o=r[i];o instanceof h&&(e||(n.__np=e={}),e[i]=o,r[i]=o.peek())}}t(n)})),O("__r",(function(t,n){C();var e,r=n.__c;r&&(r.__$f&=-2,void 0===(e=r.__$u)&&(r.__$u=e=function(t){var n;return j((function(){n=this})),n.c=function(){r.__$f|=1,r.setState({})},n}())),r,C(e),t(n)})),O("__e",(function(t,n,e,r){C(),void 0,t(n,e,r)})),O("diffed",(function(t,n){var e;if(C(),void 0,"string"==typeof n.type&&(e=n.__e)){var r=n.__np,i=n.props;if(r){var o=e.U;if(o)for(var s in o){var a=o[s];void 0===a||s in r||(a.d(),o[s]=void 0)}else e.U=o={};for(var u in r){var f=o[u],l=r[u];void 0===f?(f=I(e,u,l,i),o[u]=f):f.o(l,i)}}}t(n)})),O("unmount",(function(t,n){if("string"==typeof n.type){var e=n.__e;if(e){var r=e.U;if(r)for(var i in e.U=void 0,r){var o=r[i];o&&o.d()}}}else{var s=n.__c;if(s){var a=s.__$u;a&&(s.__$u=void 0,a.d())}}t(n)})),O("__h",(function(t,n,e,r){(r<3||9===r)&&(n.__$f|=2),t(n,e,r)})),r.Component.prototype.shouldComponentUpdate=function(t,n){var e=this.__$u;if(!(e&&void 0!==e.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var r in n)return!0;for(var i in t)if("__source"!==i&&t[i]!==this.props[i])return!0;for(var o in this.props)if(!(o in t))return!0;return!1}},6668:(t,n,e)=>{e.d(n,{W:()=>C,K:()=>O});var r=e(4944),i=e(5536),o=e.n(i),s=e(7008),a=e.n(s),u=e(1496),f=e.n(u),l=e(9836),p=e.n(l),c=e(9904),d=e.n(c),v=e(4192),h=e.n(v),m=e(1492),y={};y.styleTagTransform=h(),y.setAttributes=p(),y.insert=f().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=d();o()(m.c,y);m.c&&m.c.locals&&m.c.locals;var g=e(8340);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}var b=["className","fullWidth","lines","size","variant","children","multilineGap"],w=["className","children","rowGap"];function x(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function k(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?x(Object(e),!0).forEach((function(n){S(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):x(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function S(t,n,e){return(n=function(t){var n=function(t,n){if("object"!=_(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==_(n)?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function j(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e=o[r],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)e=o[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}var O=function(t){var n=t.className,e=t.fullWidth,i=void 0!==e&&e,o=t.lines,s=void 0===o?1:o,a=t.size,u=void 0===a?"small":a,f=t.variant,l=void 0===f?"row":f,p=t.children,c=void 0===p?null:p,d=t.multilineGap,v=void 0===d?"medium":d,h=j(t,b),m=[["dropin-skeleton-row__".concat(l),l],["dropin-skeleton-row__".concat(l,"-").concat(u),l&&u]];if(!c&&"empty"===l)return(0,g.jsx)("div",{className:(0,r.i)(["dropin-skeleton-row dropin-skeleton-row__empty",n])});if(c){var y=c.trim();return(0,g.jsx)("div",k(k({},h),{},{class:(0,r.i)(["dropin-skeleton-row",["dropin-skeleton-row--full",i],n]),dangerouslySetInnerHTML:{__html:y}}))}return!1===s>1?(0,g.jsx)("div",k(k({},h),{},{class:(0,r.i)(["dropin-skeleton-row",["dropin-skeleton-row--full",i],"dropin-skeleton--row__content"].concat(m,[n]))})):(0,g.jsx)("div",k(k({},h),{},{style:{"--multiline-gap-spacing":"var(--spacing-".concat(v,")")},class:(0,r.i)(["dropin-skeleton-row--multiline",["dropin-skeleton-row--full",i],n]),children:Array.from({length:s}).map((function(t,n){return(0,g.jsx)("div",{class:(0,r.i)(["dropin-skeleton-row",["dropin-skeleton-row--full",i],"dropin-skeleton--row__content"].concat(m))},n)}))}))},C=function(t){var n=t.className,e=t.children,i=t.rowGap,o=void 0===i?"medium":i,s=j(t,w);return(0,g.jsx)("div",k(k({style:{"--row-gap-spacing":"var(--spacing-".concat(o,")")}},s),{},{className:(0,r.i)(["dropin-skeleton",n]),role:"status","aria-label":"Loading...",children:e}))}},4468:(t,n,e)=>{e.d(n,{S:()=>p});var r=e(5124),i=e(2532),o=e(9734),s=e(8996),a=e(6528),u=e(5668),f=e(9488),l=e(8340),p=function(t){var n=t.preselectedFields,e=u.s.value.data,p=(null==e?void 0:e.id)||"",c=f.Y.value.checked,d=(0,a.useCallback)((function(t){return(0,r.Eh)({signal:t.signal,cartId:p,address:(0,r.ek)(t.address)}).then((function(){if(c)return(0,i.W)({cartId:p,input:{same_as_shipping:!0}})}))}),[p,c]);return(0,l.jsx)(o.i,{"data-testid":"shipping-form",name:s.I,preselectedFields:n,addressType:"shipping_addresses",headingId:"Checkout.ShippingAddress.title",saveAddressHandler:d,className:"checkout-shipping-address-form"})}},8996:(t,n,e)=>{e.d(n,{I:()=>r});var r="shipping_address"},2464:(t,n,e)=>{e.d(n,{Ib:()=>i.I,SW:()=>r.S,cp:()=>r.S});var r=e(4468),i=e(8996)},1492:(t,n,e)=>{e.d(n,{c:()=>a});var r=e(6008),i=e.n(r),o=e(2076),s=e.n(o)()(i());s.push([t.id,".dropin-skeleton{\n  --row-gap-spacing:var(--spacing-medium);\n  display:grid;\n  grid-template-columns:1fr 1fr;\n  gap:var(--row-gap-spacing);\n}\n\n.dropin-skeleton .dropin-skeleton--row__content{\n  background:var(--color-neutral-300) linear-gradient(\n      to right,\n      var(--color-neutral-300) 0%,\n      var(--color-neutral-100) 20%,\n      var(--color-neutral-300) 40%,\n      var(--color-neutral-300) 100%\n    ) no-repeat;\n  animation:skeletonShimmer infinite 1.2s linear;\n  border-radius:var(--shape-border-radius-2);\n}\n.dropin-skeleton__empty{\n  background:none;\n}\n\n.dropin-skeleton-row--multiline{\n  --multiline-gap-spacing:var(--spacing-medium);\n  display:grid;\n  grid-auto-rows:max-content;\n  gap:var(--multiline-gap-spacing);\n}\n\n.dropin-skeleton-row--full{\n  grid-column:1 / -1;\n}\n.dropin-skeleton-row svg{\n  fill:var(--color-neutral-400);\n  fill-opacity:0.5;\n  animation-duration:1s;\n  animation-fill-mode:forwards;\n  animation-iteration-count:infinite;\n  animation-name:placeholderShimmer;\n  animation-timing-function:linear;\n}\n\n.dropin-skeleton-row__row-xsmall{\n  height:32px;\n}\n\n.dropin-skeleton-row__row-small{\n  height:40px;\n}\n\n.dropin-skeleton-row__row-medium{\n  height:48px;\n}\n\n.dropin-skeleton-row__row-large{\n  height:56px;\n}\n\n.dropin-skeleton-row__row-xlarge{\n  height:72px;\n}\n\n.dropin-skeleton-row__heading-xsmall{\n  height:20px;\n}\n\n.dropin-skeleton-row__heading-small{\n  height:24px;\n}\n\n.dropin-skeleton-row__heading-medium{\n  height:32px;\n}\n\n.dropin-skeleton-row__heading-large{\n  height:40px;\n}\n\n.dropin-skeleton-row__heading-xlarge{\n  height:48px;\n}\n\n@keyframes skeletonShimmer{\n  0%{\n    background-position:-600px 0;\n  }\n\n  100%{\n    background-position:600px 0;\n  }\n}\n\n@keyframes placeholderShimmer{\n  0%{\n    fill-opacity:0.5;\n  }\n\n  50%{\n    fill-opacity:1;\n  }\n\n  100%{\n    fill-opacity:0.5;\n  }\n}\n@media only screen and (max-width: 600px){\n  .dropin-skeleton{\n    grid-template-columns:1fr;\n  }\n}\n",""]);const a=s},8122:(n,e,r)=>{n.exports=(t=>{var n={};return r.d(n,t),n})({events:()=>t.events})},8616:(t,e,r)=>{t.exports=(t=>{var n={};return r.d(n,t),n})({FetchGraphQL:()=>n.FetchGraphQL})},6528:(t,n,r)=>{t.exports=(t=>{var n={};return r.d(n,t),n})({createContext:()=>e.createContext,forwardRef:()=>e.forwardRef,useCallback:()=>e.useCallback,useContext:()=>e.useContext,useEffect:()=>e.useEffect,useImperativeHandle:()=>e.useImperativeHandle,useMemo:()=>e.useMemo,useRef:()=>e.useRef,useState:()=>e.useState})},2720:(t,n,e)=>{t.exports=(t=>{var n={};return e.d(n,t),n})({useCallback:()=>r.useCallback,useContext:()=>r.useContext,useDebugValue:()=>r.useDebugValue,useEffect:()=>r.useEffect,useId:()=>r.useId,useImperativeHandle:()=>r.useImperativeHandle,useLayoutEffect:()=>r.useLayoutEffect,useMemo:()=>r.useMemo,useReducer:()=>r.useReducer,useRef:()=>r.useRef,useState:()=>r.useState})},6168:(t,n,e)=>{t.exports=(t=>{var n={};return e.d(n,t),n})({Fragment:()=>i.Fragment,jsx:()=>i.jsx,jsxs:()=>i.jsxs})},7320:(t,n,e)=>{t.exports=(t=>{var n={};return e.d(n,t),n})({Component:()=>o.Component,Fragment:()=>o.Fragment,cloneElement:()=>o.cloneElement,createContext:()=>o.createContext,createElement:()=>o.createElement,createRef:()=>o.createRef,h:()=>o.h,hydrate:()=>o.hydrate,isValidElement:()=>o.isValidElement,options:()=>o.options,render:()=>o.render,toChildArray:()=>o.toChildArray})}};import s from"../runtime.js";import*as a from"../456.js";s.C(a);import*as u from"../856.js";s.C(u);import*as f from"../644.js";s.C(f);import*as l from"../872.js";s.C(l);import*as p from"../192.js";s.C(p);import*as c from"../868.js";s.C(c);import*as d from"../808.js";s.C(d);import*as v from"./ShippingForm.js";s.C(v);var h,m=(h=2464,s(s.s=h)),y=m.Ib,g=m.SW,_=m.cp;export{y as SHIPPING_FORM_NAME,g as ShippingForm,_ as default};