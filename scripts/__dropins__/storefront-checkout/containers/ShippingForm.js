import*as e from"@dropins/elsie/event-bus.js";import*as t from"@dropins/elsie/fetch-graphql.js";import*as n from"@dropins/elsie/preact-compat.js";import*as i from"@dropins/elsie/preact-hooks.js";import*as r from"@dropins/elsie/preact-jsx-runtime.js";import*as o from"@dropins/elsie/preact.js";export const id=4;export const ids=[4];export const modules={1520:(e,t,n)=>{n.d(t,{OC:()=>m});var i=n(2576),r=n(5456);function o(){throw new Error("Cycle detected")}var s=Symbol.for("preact-signals");function a(){if(c>1)c--;else{for(var e,t=!1;void 0!==f;){var n=f;for(f=void 0,p++;void 0!==n;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&y(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=i}}if(p=0,c--,t)throw e}}var l=void 0;var u,f=void 0,c=0,p=0,d=0;function v(e){if(void 0!==l){var t=e.n;if(void 0===t||t.t!==l)return t={i:0,S:e,p:l.s,n:void 0,t:l,e:void 0,x:void 0,r:t},void 0!==l.s&&(l.s.n=t),l.s=t,e.n=t,32&l.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=l.s,t.n=void 0,l.s.n=t,l.s=t),t}}function h(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function m(e){return new h(e)}function y(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function g(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function _(e){for(var t=e.s,n=void 0;void 0!==t;){var i=t.p;-1===t.i?(t.S.U(t),void 0!==i&&(i.n=t.n),void 0!==t.n&&(t.n.p=i)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=i}e.s=n}function b(e){h.call(this,void 0),this.x=e,this.s=void 0,this.g=d-1,this.f=4}function w(e){var t=e.u;if(e.u=void 0,"function"==typeof t){c++;var n=l;l=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,x(e),t}finally{l=n,a()}}}function x(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,w(e)}function k(e){if(l!==this)throw new Error("Out-of-order effect");_(this),l=e,this.f&=-2,8&this.f&&x(this),a()}function S(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function j(e){var t=new S(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}function O(e,t){i.options[e]=t.bind(null,i.options[e]||function(){})}function C(e){u&&u(),u=e&&e.S()}function E(e){var t=this,n=e.data,o=function(e){return(0,r.useMemo)((function(){return m(e)}),[])}(n);o.value=n;var s=(0,r.useMemo)((function(){for(var e=t.__v;e=e.__;)if(e.__c){e.__c.__$f|=4;break}return t.__$u.c=function(){var e;(0,i.isValidElement)(s.peek())||3!==(null==(e=t.base)?void 0:e.nodeType)?(t.__$f|=1,t.setState({})):t.base.data=s.peek()},function(e){return new b(e)}((function(){var e=o.value.value;return 0===e?0:!0===e?"":e||""}))}),[]);return s.value}function I(e,t,n,i){var r=t in e&&void 0===e.ownerSVGElement,o=m(n);return{o:function(e,t){o.value=e,i=t},d:j((function(){var n=o.value.value;i[t]!==n&&(i[t]=n,r?e[t]=n:n?e.setAttribute(t,n):e.removeAttribute(t))}))}}h.prototype.brand=s,h.prototype.h=function(){return!0},h.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},h.prototype.U=function(e){if(void 0!==this.t){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}},h.prototype.subscribe=function(e){var t=this;return j((function(){var n=t.value,i=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=i}}))},h.prototype.valueOf=function(){return this.value},h.prototype.toString=function(){return this.value+""},h.prototype.toJSON=function(){return this.value},h.prototype.peek=function(){return this.v},Object.defineProperty(h.prototype,"value",{get:function(){var e=v(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(l instanceof b&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this.v){p>100&&o(),this.v=e,this.i++,d++,c++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{a()}}}}),(b.prototype=new h).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===d)return!0;if(this.g=d,this.f|=1,this.i>0&&!y(this))return this.f&=-2,!0;var e=l;try{g(this),l=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return l=e,_(this),this.f&=-2,!0},b.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}h.prototype.S.call(this,e)},b.prototype.U=function(e){if(void 0!==this.t&&(h.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},b.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},b.prototype.peek=function(){if(this.h()||o(),16&this.f)throw this.v;return this.v},Object.defineProperty(b.prototype,"value",{get:function(){1&this.f&&o();var e=v(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),S.prototype.c=function(){var e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},S.prototype.S=function(){1&this.f&&o(),this.f|=1,this.f&=-9,w(this),g(this),c++;var e=l;return l=this,k.bind(this,e)},S.prototype.N=function(){2&this.f||(this.f|=2,this.o=f,f=this)},S.prototype.d=function(){this.f|=8,1&this.f||x(this)},E.displayName="_st",Object.defineProperties(h.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:E},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),O("__b",(function(e,t){if("string"==typeof t.type){var n,i=t.props;for(var r in i)if("children"!==r){var o=i[r];o instanceof h&&(n||(t.__np=n={}),n[r]=o,i[r]=o.peek())}}e(t)})),O("__r",(function(e,t){C();var n,i=t.__c;i&&(i.__$f&=-2,void 0===(n=i.__$u)&&(i.__$u=n=function(e){var t;return j((function(){t=this})),t.c=function(){i.__$f|=1,i.setState({})},t}())),i,C(n),e(t)})),O("__e",(function(e,t,n,i){C(),void 0,e(t,n,i)})),O("diffed",(function(e,t){var n;if(C(),void 0,"string"==typeof t.type&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var o=n.U;if(o)for(var s in o){var a=o[s];void 0===a||s in i||(a.d(),o[s]=void 0)}else n.U=o={};for(var l in i){var u=o[l],f=i[l];void 0===u?(u=I(n,l,f,r),o[l]=u):u.o(f,r)}}}e(t)})),O("unmount",(function(e,t){if("string"==typeof t.type){var n=t.__e;if(n){var i=n.U;if(i)for(var r in n.U=void 0,i){var o=i[r];o&&o.d()}}}else{var s=t.__c;if(s){var a=s.__$u;a&&(s.__$u=void 0,a.d())}}e(t)})),O("__h",(function(e,t,n,i){(i<3||9===i)&&(t.__$f|=2),e(t,n,i)})),i.Component.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var i in t)return!0;for(var r in e)if("__source"!==r&&e[r]!==this.props[r])return!0;for(var o in this.props)if(!(o in e))return!0;return!1}},6668:(e,t,n)=>{n.d(t,{W:()=>C,K:()=>O});var i=n(4944),r=n(5536),o=n.n(r),s=n(7008),a=n.n(s),l=n(1496),u=n.n(l),f=n(9836),c=n.n(f),p=n(9904),d=n.n(p),v=n(4192),h=n.n(v),m=n(1492),y={};y.styleTagTransform=h(),y.setAttributes=c(),y.insert=u().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=d();o()(m.c,y);m.c&&m.c.locals&&m.c.locals;var g=n(8340);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}var b=["className","fullWidth","lines","size","variant","children","multilineGap"],w=["className","children","rowGap"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=function(e){var t=e.className,n=e.fullWidth,r=void 0!==n&&n,o=e.lines,s=void 0===o?1:o,a=e.size,l=void 0===a?"small":a,u=e.variant,f=void 0===u?"row":u,c=e.children,p=void 0===c?null:c,d=e.multilineGap,v=void 0===d?"medium":d,h=j(e,b),m=[["elsie-skeleton-row__".concat(f),f],["elsie-skeleton-row__".concat(f,"-").concat(l),f&&l]];if(!p&&"empty"===f)return(0,g.jsx)("div",{className:(0,i.i)(["elsie-skeleton-row elsie-skeleton-row__empty",t])});if(p){var y=p.trim();return(0,g.jsx)("div",k(k({},h),{},{class:(0,i.i)(["elsie-skeleton-row",["elsie-skeleton-row--full",r],t]),dangerouslySetInnerHTML:{__html:y}}))}return!1===s>1?(0,g.jsx)("div",k(k({},h),{},{class:(0,i.i)(["elsie-skeleton-row",["elsie-skeleton-row--full",r],"elsie-skeleton--row__content"].concat(m,[t]))})):(0,g.jsx)("div",k(k({},h),{},{style:{"--multiline-gap-spacing":"var(--spacing-".concat(v,")")},class:(0,i.i)(["elsie-skeleton-row--multiline",["elsie-skeleton-row--full",r],t]),children:Array.from({length:s}).map((function(e,t){return(0,g.jsx)("div",{class:(0,i.i)(["elsie-skeleton-row",["elsie-skeleton-row--full",r],"elsie-skeleton--row__content"].concat(m))},t)}))}))},C=function(e){var t=e.className,n=e.children,r=e.rowGap,o=void 0===r?"medium":r,s=j(e,w);return(0,g.jsx)("div",k(k({style:{"--row-gap-spacing":"var(--spacing-".concat(o,")")}},s),{},{className:(0,i.i)(["elsie-skeleton",t]),role:"status","aria-label":"Loading...",children:n}))}},4468:(e,t,n)=>{n.d(t,{S:()=>c});var i=n(5124),r=n(2532),o=n(9734),s=n(8996),a=n(2288),l=n(5668),u=n(9488),f=n(8340),c=function(e){var t=e.preselectedFields,n=l.s.value.data,c=(null==n?void 0:n.id)||"",p=u.Y.value.checked,d=(0,a.useCallback)((function(e){return(0,i.Eh)({signal:e.signal,cartId:c,address:(0,i.ek)(e.address)}).then((function(){if(p)return(0,r.W)({cartId:c,input:{same_as_shipping:!0}})}))}),[c,p]);return(0,f.jsx)(o.i,{"data-testid":"shipping-form",name:s.I,preselectedFields:t,addressType:"shipping_addresses",headingId:"Checkout.ShippingAddress.title",saveAddressHandler:d,className:"checkout-shipping-address-form"})}},8996:(e,t,n)=>{n.d(t,{I:()=>i});var i="shipping_address"},2464:(e,t,n)=>{n.d(t,{Ib:()=>r.I,SW:()=>i.S,cp:()=>i.S});var i=n(4468),r=n(8996)},1492:(e,t,n)=>{n.d(t,{c:()=>a});var i=n(6008),r=n.n(i),o=n(2076),s=n.n(o)()(r());s.push([e.id,".elsie-skeleton{\n  --row-gap-spacing:var(--spacing-medium);\n  display:grid;\n  grid-template-columns:1fr 1fr;\n  gap:var(--row-gap-spacing);\n}\n\n.elsie-skeleton .elsie-skeleton--row__content{\n  background:var(--color-neutral-300) linear-gradient(to right,\n      var(--color-neutral-300) 0%,\n      var(--color-neutral-100) 20%,\n      var(--color-neutral-300) 40%,\n      var(--color-neutral-300) 100%) no-repeat;\n  animation:skeletonShimmer infinite 1.2s linear;\n  border-radius:var(--shape-border-radius-2);\n}\n.elsie-skeleton__empty{\n  background:none;\n}\n\n.elsie-skeleton-row--multiline{\n  --multiline-gap-spacing:var(--spacing-medium);\n  display:grid;\n  grid-auto-rows:max-content;\n  gap:var(--multiline-gap-spacing);\n}\n\n.elsie-skeleton-row--full{\n  grid-column:1 / -1;\n}\n.elsie-skeleton-row svg{\n  fill:var(--color-neutral-400);\n  fill-opacity:0.5;\n  animation-duration:1s;\n  animation-fill-mode:forwards;\n  animation-iteration-count:infinite;\n  animation-name:placeholderShimmer;\n  animation-timing-function:linear;\n}\n\n.elsie-skeleton-row__row-xsmall{\n  height:32px;\n}\n\n.elsie-skeleton-row__row-small{\n  height:40px;\n}\n\n.elsie-skeleton-row__row-medium{\n  height:48px;\n}\n\n.elsie-skeleton-row__row-large{\n  height:56px;\n}\n\n.elsie-skeleton-row__row-xlarge{\n  height:72px;\n}\n\n.elsie-skeleton-row__heading-xsmall{\n  height:20px;\n}\n\n.elsie-skeleton-row__heading-small{\n  height:24px;\n}\n\n.elsie-skeleton-row__heading-medium{\n  height:32px;\n}\n\n.elsie-skeleton-row__heading-large{\n  height:40px;\n}\n\n.elsie-skeleton-row__heading-xlarge{\n  height:48px;\n}\n\n@keyframes skeletonShimmer{\n  0%{\n    background-position:-600px 0;\n  }\n\n  100%{\n    background-position:600px 0;\n  }\n}\n\n@keyframes placeholderShimmer{\n  0%{\n    fill-opacity:0.5;\n  }\n\n  50%{\n    fill-opacity:1;\n  }\n\n  100%{\n    fill-opacity:0.5;\n  }\n}\n@media only screen and (max-width: 600px){\n  .elsie-skeleton{\n    grid-template-columns:1fr;\n  }\n}",""]);const a=s},1996:(t,n,i)=>{t.exports=(e=>{var t={};return i.d(t,e),t})({events:()=>e.events})},4720:(e,n,i)=>{e.exports=(e=>{var t={};return i.d(t,e),t})({FetchGraphQL:()=>t.FetchGraphQL})},2288:(e,t,i)=>{e.exports=(e=>{var t={};return i.d(t,e),t})({createContext:()=>n.createContext,forwardRef:()=>n.forwardRef,useCallback:()=>n.useCallback,useContext:()=>n.useContext,useEffect:()=>n.useEffect,useImperativeHandle:()=>n.useImperativeHandle,useMemo:()=>n.useMemo,useRef:()=>n.useRef,useState:()=>n.useState})},5456:(e,t,n)=>{e.exports=(e=>{var t={};return n.d(t,e),t})({useCallback:()=>i.useCallback,useContext:()=>i.useContext,useDebugValue:()=>i.useDebugValue,useEffect:()=>i.useEffect,useId:()=>i.useId,useImperativeHandle:()=>i.useImperativeHandle,useLayoutEffect:()=>i.useLayoutEffect,useMemo:()=>i.useMemo,useReducer:()=>i.useReducer,useRef:()=>i.useRef,useState:()=>i.useState})},9992:(e,t,n)=>{e.exports=(e=>{var t={};return n.d(t,e),t})({Fragment:()=>r.Fragment,jsx:()=>r.jsx,jsxs:()=>r.jsxs})},2576:(e,t,n)=>{e.exports=(e=>{var t={};return n.d(t,e),t})({Component:()=>o.Component,Fragment:()=>o.Fragment,cloneElement:()=>o.cloneElement,createContext:()=>o.createContext,createElement:()=>o.createElement,createRef:()=>o.createRef,h:()=>o.h,hydrate:()=>o.hydrate,isValidElement:()=>o.isValidElement,options:()=>o.options,render:()=>o.render,toChildArray:()=>o.toChildArray})}};import s from"../runtime.js";import*as a from"../456.js";s.C(a);import*as l from"../856.js";s.C(l);import*as u from"../644.js";s.C(u);import*as f from"../872.js";s.C(f);import*as c from"../192.js";s.C(c);import*as p from"../868.js";s.C(p);import*as d from"../808.js";s.C(d);import*as v from"./ShippingForm.js";s.C(v);var h,m=(h=2464,s(s.s=h)),y=m.Ib,g=m.SW,_=m.cp;export{y as SHIPPING_FORM_NAME,g as ShippingForm,_ as default};