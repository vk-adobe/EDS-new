import{useState as b,useEffect as _}from"@dropins/tools/preact-compat.js";import{events as h}from"@dropins/tools/event-bus.js";import{jsxs as l,jsx as n}from"@dropins/tools/preact-jsx-runtime.js";import g from"./Close.js";import{u as d,c as m}from"./preact-i18n.esm.js";import{V as c}from"./vcomponent.js";import{B as p}from"./Button.js";import{I as u}from"./Icon.js";import k from"./WarningFilled.js";const v=({className:o,variant:a,icon:s,message:i,onDismiss:t,action:r,...e})=>{const f=d({dismiss:"Dropin.InlineAlert.dismissLabel"});return l("div",{...e,className:m([o,"dropin-alert-banner",`dropin-alert-banner--${a}`]),children:[l("div",{className:"dropin-alert-banner__content",children:[s&&n(c,{node:s,"aria-hidden":"true",className:"dropin-alert-banner__icon"}),n(c,{node:i,className:m(["dropin-alert-banner__message"])})]}),l("div",{className:"dropin-alert-banner__actions",children:[r&&n(p,{variant:"tertiary",className:"dropin-alert-banner__action",onClick:r.onClick,"aria-label":r.label,children:r.label}),n(p,{icon:n(u,{source:g,size:"24",stroke:"2"}),className:"dropin-alert-banner__dismiss-button",variant:"primary",onClick:t,"aria-label":f.dismiss})]})]})},A=o=>{const[a,s]=b(!1);_(()=>{const r=h.on("error",e=>{(e==null?void 0:e.source)==="checkout"&&(e==null?void 0:e.type)==="network"&&s(!0)});return()=>{r==null||r.off()}},[]);const i=()=>{s(!1)},t=d({message:"Checkout.ErrorBanner.genericMessage",label:"Checkout.ErrorBanner.dismissLabel"});return a?n(v,{...o,"data-testid":"error-banner",icon:n(u,{source:k}),message:n("span",{children:t.message}),onDismiss:i,variant:"warning"}):null};export{A as E};
//# sourceMappingURL=ErrorBanner.js.map
