import"./usePreselectedFields.js";import{jsx as i}from"@dropins/tools/preact-jsx-runtime.js";import{c,T as a}from"./preact-i18n.esm.js";import{B as l}from"./Button.js";import"@dropins/tools/event-bus.js";import{e as s}from"./transform-shipping-methods.js";import"./countries.js";import"@dropins/tools/preact-hooks.js";import"./BillToShippingAddress.js";import"@dropins/tools/preact-compat.js";import{L as d}from"./constants2.js";import{S as m}from"./constants3.js";import{B as f}from"./constants.js";const u=({className:o,children:e,...t})=>{const{onClick:r=()=>{},isLoading:n}=t;return i("div",{className:c(["checkout-place-order",o]),children:i(l,{className:c(["checkout-place-order__button",o]),size:"medium",variant:"primary",type:"submit",onClick:r,disabled:n,children:i(a,{id:"Checkout.PlaceOrder.button"})},"placeOrder")})},p=[d,m,f],h=o=>{const e=o.querySelector(":invalid");e&&(e.scrollIntoView({behavior:"smooth"}),e.focus())},O=()=>{const e=(Array.from(document.forms)||[]).filter(r=>p.includes(r.name)).filter(r=>r.offsetParent!==null).filter(r=>!r.checkValidity()),t=e.length===0;if(!t){const r=e[0];h(r)}return t},g=o=>{const{onClick:e,handleServerError:t}=o;return i(u,{onClick:async()=>{if(O())try{await e()}catch(n){t(n)}},isLoading:s.value.pending})};export{g as P};
//# sourceMappingURL=PlaceOrder.js.map
