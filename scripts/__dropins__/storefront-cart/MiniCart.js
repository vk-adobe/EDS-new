import*as g from"@dropins/tools/preact-compat.js";import{lazy as d,Suspense as K,useState as G,useMemo as T,useContext as J,Children as X}from"@dropins/tools/preact-compat.js";import{jsx as e,jsxs as E,Fragment as Y}from"@dropins/tools/preact-jsx-runtime.js";import{o as Q}from"./getStoreConfig.js";import{c as i,L as $,T as R,V as k,u as A,a as ee}from"./UIProvider.js";import{useState as te,useEffect as re,useCallback as ne}from"@dropins/tools/preact-hooks.js";const ie=(r,n)=>{let o;return function(...t){clearTimeout(o),o=setTimeout(()=>r.apply(this,t),n)}},M={medium:768,large:1024,xlarge:1366,xxlarge:1920},ae=(r,n)=>{const[o,t]=r.split("?"),l=new URLSearchParams(t),s=Q();let m={};return s&&Object.keys(s).length>0&&n?m=Object.entries(n).reduce((a,[c,h])=>{const p=s[c];return p&&(a[p]=h),a},{}):m={auto:"webp",quality:80,crop:!1,fit:"cover",...n},Object.entries(m).forEach(([a,c])=>{c!=null&&l.set(a,String(c))}),`${o}?${l.toString()}`},oe=(r,n)=>{if(!r||!(n!=null&&n.width))return;const o=t=>ae(r,{...t});return Object.entries(M).map(([,t])=>{const l=n.width*t/M.xxlarge;return`${o({...n,width:l})} ${t}w`}).join(`,
`)},se="modulepreload",le=function(r){return"/"+r},j={},_=function(n,o,t){let l=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),m=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.all(o.map(a=>{if(a=le(a),a in j)return;j[a]=!0;const c=a.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":se,c||(p.as="script",p.crossOrigin=""),p.href=a,m&&p.setAttribute("nonce",m),document.head.appendChild(p),c)return new Promise((f,u)=>{p.addEventListener("load",f),p.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))})}))}return l.then(()=>n()).catch(s=>{const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=s,window.dispatchEvent(m),!m.defaultPrevented)throw s})},q=1,C=({className:r,fullWidth:n=!1,lines:o=q,size:t="small",variant:l="row",children:s=null,multilineGap:m="medium",...a})=>{const c=[[`dropin-skeleton-row__${l}`,l],[`dropin-skeleton-row__${l}-${t}`,l&&t]];if(!s&&l==="empty")return e("div",{className:i(["dropin-skeleton-row dropin-skeleton-row__empty",r])});if(s){const p=s.trim();return e("div",{...a,class:i(["dropin-skeleton-row",["dropin-skeleton-row--full",n],r]),dangerouslySetInnerHTML:{__html:p}})}return o>q===!1?e("div",{...a,class:i(["dropin-skeleton-row",["dropin-skeleton-row--full",n],"dropin-skeleton--row__content",...c,r])}):e("div",{...a,style:{"--multiline-gap-spacing":`var(--spacing-${m})`},class:i(["dropin-skeleton-row--multiline",["dropin-skeleton-row--full",n],r]),children:Array.from({length:o}).map((p,f)=>e("div",{class:i(["dropin-skeleton-row",["dropin-skeleton-row--full",n],"dropin-skeleton--row__content",...c])},f))})},ce=({className:r,children:n,rowGap:o="medium",...t})=>e("div",{style:{"--row-gap-spacing":`var(--spacing-${o})`},...t,className:i(["dropin-skeleton",r]),role:"status","aria-label":"Loading...",children:n}),de=r=>g.createElement("svg",{id:"Icon_Add_Base","data-name":"Icon \\u2013 Add \\u2013 Base",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...r},g.createElement("g",{id:"Large"},g.createElement("rect",{id:"Placement_area","data-name":"Placement area",width:24,height:24,fill:"#fff",opacity:0}),g.createElement("g",{id:"Add_icon","data-name":"Add icon",transform:"translate(9.734 9.737)"},g.createElement("line",{vectorEffect:"non-scaling-stroke",id:"Line_579","data-name":"Line 579",y2:12.7,transform:"translate(2.216 -4.087)",fill:"none",stroke:"currentColor"}),g.createElement("line",{vectorEffect:"non-scaling-stroke",id:"Line_580","data-name":"Line 580",x2:12.7,transform:"translate(-4.079 2.263)",fill:"none",stroke:"currentColor"})))),B=de,_e=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"})),H=r=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},g.createElement("g",{clipPath:"url(#clip0_102_196)"},g.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M18.3601 18.16H6.5601L4.8801 3H2.3501M19.6701 19.59C19.6701 20.3687 19.0388 21 18.2601 21C17.4814 21 16.8501 20.3687 16.8501 19.59C16.8501 18.8113 17.4814 18.18 18.2601 18.18C19.0388 18.18 19.6701 18.8113 19.6701 19.59ZM7.42986 19.59C7.42986 20.3687 6.79858 21 6.01986 21C5.24114 21 4.60986 20.3687 4.60986 19.59C4.60986 18.8113 5.24114 18.18 6.01986 18.18C6.79858 18.18 7.42986 18.8113 7.42986 19.59Z",stroke:"currentColor",strokeLinejoin:"round"}),g.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M5.25 6.37L20.89 8.06L20.14 14.8H6.19",stroke:"currentColor",strokeLinejoin:"round"})),g.createElement("defs",null,g.createElement("clipPath",{id:"clip0_102_196"},g.createElement("rect",{vectorEffect:"non-scaling-stroke",width:19.29,height:19.5,fill:"white",transform:"translate(2.3501 2.25)"})))),me=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),pe=r=>g.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},g.createElement("path",{d:"M17.3332 11.75H6.6665",strokeWidth:1.5,strokeLinecap:"square",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke",fill:"none",stroke:"currentColor"})),z=pe,ue=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"})),W=r=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...r},g.createElement("path",{d:"M1 5H23",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10}),g.createElement("path",{d:"M17.3674 22H6.63446C5.67952 22 4.88992 21.2688 4.8379 20.3338L4 5H20L19.1621 20.3338C19.1119 21.2688 18.3223 22 17.3655 22H17.3674Z",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10}),g.createElement("path",{d:"M9.87189 2H14.1281C14.6085 2 15 2.39766 15 2.88889V5H9V2.88889C9 2.39912 9.39006 2 9.87189 2Z",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10}),g.createElement("path",{d:"M8.87402 8.58057L9.39348 17.682",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10}),g.createElement("path",{d:"M14.6673 8.58057L14.146 17.682",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10})),he=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"})),ge={Add:d(()=>_(()=>Promise.resolve().then(()=>_e),void 0)),Bulk:d(()=>_(()=>import("./Bulk.js"),[])),Burger:d(()=>_(()=>import("./Burger.js"),[])),Cart:d(()=>_(()=>Promise.resolve().then(()=>me),void 0)),Check:d(()=>_(()=>import("./Check.js"),[])),ChevronDown:d(()=>_(()=>import("./ChevronDown.js"),[])),ChevronUp:d(()=>_(()=>import("./ChevronUp.js"),[])),ChevronRight:d(()=>_(()=>import("./ChevronRight.js"),[])),Close:d(()=>_(()=>import("./Close.js"),[])),Heart:d(()=>_(()=>import("./Heart.js"),[])),Minus:d(()=>_(()=>Promise.resolve().then(()=>ue),void 0)),Placeholder:d(()=>_(()=>import("./Placeholder.js"),[])),PlaceholderFilled:d(()=>_(()=>import("./PlaceholderFilled.js"),[])),Search:d(()=>_(()=>import("./Search.js"),[])),SearchFilled:d(()=>_(()=>import("./SearchFilled.js"),[])),Sort:d(()=>_(()=>import("./Sort.js"),[])),Star:d(()=>_(()=>import("./Star.js"),[])),View:d(()=>_(()=>import("./View.js"),[])),User:d(()=>_(()=>import("./User.js"),[])),Warning:d(()=>_(()=>import("./Warning.js"),[])),Locker:d(()=>_(()=>import("./Locker.js"),[])),Wallet:d(()=>_(()=>import("./Wallet.js"),[])),Card:d(()=>_(()=>import("./Card.js"),[])),Order:d(()=>_(()=>import("./Order.js"),[])),Delivery:d(()=>_(()=>import("./Delivery.js"),[])),OrderError:d(()=>_(()=>import("./OrderError.js"),[])),OrderSuccess:d(()=>_(()=>import("./OrderSuccess.js"),[])),PaymentError:d(()=>_(()=>import("./PaymentError.js"),[])),CheckWithCircle:d(()=>_(()=>import("./CheckWithCircle.js"),[])),WarningWithCircle:d(()=>_(()=>import("./WarningWithCircle.js"),[])),WarningFilled:d(()=>_(()=>import("./WarningFilled.js"),[])),InfoFilled:d(()=>_(()=>import("./InfoFilled.js"),[])),HeartFilled:d(()=>_(()=>import("./HeartFilled.js"),[])),Trash:d(()=>_(()=>Promise.resolve().then(()=>he),void 0))};function D({source:r,size:n="24",stroke:o="2",viewBox:t="0 0 24 24",className:l,...s}){const m=typeof r=="string"?ge[r]:null,a={className:i(["dropin-icon",`dropin-icon--shape-stroke-${o}`,l]),width:n,height:n,viewBox:t};return e(K,{fallback:null,children:m?e(m,{...s,...a}):e(r,{...s,...a})})}const Ee=({name:r,value:n="1",className:o,disabled:t,error:l,success:s,min:m,max:a,onValue:c,onUpdateError:h,size:p="medium",...f})=>{const[u,w]=te(Number(n)),y=Number(m),P=Number(a);re(()=>{w(Number(n))},[n]);const O=ne(ie(async b=>{if(c)try{await c(b)}catch(v){h&&h(v)}},200),[c,h]),I=b=>{let v=b;b<y&&(v=y),b>P&&(v=P),O(v),w(v)};return e("div",{className:i(["dropin-incrementer",`dropin-incrementer--${p}`,o]),children:E("div",{className:i(["dropin-incrementer__content",`dropin-incrementer__content--${p}`,["dropin-incrementer__content--error",l],["dropin-incrementer__content--success",s],["dropin-incrementer__content--disabled",t]]),children:[e("div",{className:i(["dropin-incrementer__button-container",["dropin-incrementer__button-container--disabled",t]]),children:e($,{children:e("button",{type:"button",className:i(["dropin-incrementer__decrease-button",["dropin-incrementer__decrease-button--disabled",t]]),onClick:()=>I(u-1),disabled:t||u<y+1,"aria-label":e(R,{id:"Dropin.Incrementer.decreaseLabel"}),children:e(D,{source:z,size:"16",stroke:"1",viewBox:"4 2 20 20",className:"dropin-incrementer__down"})})})}),e("input",{className:"dropin-incrementer__input",max:a,min:m,step:1,type:"number",name:r,value:u,disabled:t,onChange:b=>{const v=b.currentTarget.value;v!==""&&I(Number(v))},...f}),e("div",{className:i(["dropin-incrementer__button-container",["dropin-incrementer__button-container--disabled",t]]),children:e($,{children:e("button",{type:"button",className:i(["dropin-incrementer__increase-button",["dropin-incrementer__increase-button--disabled",t]]),onClick:()=>I(u+1),disabled:t||u>P-1,"aria-label":e(R,{id:"Dropin.Incrementer.increaseLabel"}),children:e(D,{source:B,size:"16",stroke:"1",viewBox:"4 2 20 20",className:"dropin-incrementer__add"})})})})]})})},Pe=({className:r,src:n,params:o,loading:t="lazy",srcSet:l,onLoad:s,...m})=>{const[a,c]=G(!1),h=T(()=>{if(l)return l;if(!(!n||!o))return oe(n,{...o})},[o,n,l]),p=f=>{c(!0),s==null||s(f)};return e("img",{...m,className:i(["dropin-image",["dropin-image--loaded",a],r]),loading:t,onLoad:p,src:n,srcSet:h})},Ce=({variant:r="primary",className:n})=>e("hr",{role:"separator",className:i(["dropin-divider",`dropin-divider--${r}`,n])}),Le=({amount:r=0,currency:n,locale:o=void 0,variant:t="default",weight:l="bold",className:s,children:m,sale:a=!1,formatOptions:c={},size:h="small",...p})=>{const f=T(()=>new Intl.NumberFormat(o,{style:"currency",currency:n||"USD",minimumFractionDigits:2,maximumFractionDigits:2,...c}),[o,n,c]),u=T(()=>f.format(r),[r,f]);return e("span",{...p,className:i(["dropin-price",`dropin-price--${t}`,`dropin-price--${h}`,`dropin-price--${l}`,["dropin-price--sale",a],s]),children:u})},F=({value:r,variant:n="primary",size:o="medium",icon:t,className:l,children:s,disabled:m=!1,active:a=!1,activeChildren:c,activeIcon:h,href:p,...f})=>{let u="dropin-button";(t&&!s||t&&a&&!c||!t&&a&&h)&&(u="dropin-iconButton"),a&&c&&(u="dropin-button"),l=i([u,`${u}--${o}`,`${u}--${n}`,[`${u}--${n}--disabled`,m],s&&t&&`${u}--with-icon`,!s&&c&&t&&`${u}--with-icon`,a&&h&&`${u}--with-icon`,l]);const w=i(["dropin-button-icon",`dropin-button-icon--${n}`,[`dropin-button-icon--${n}--disabled`,m],t==null?void 0:t.props.className]),y=p?{node:e("a",{}),role:"link",href:p,...f,disabled:m,active:a}:{node:e("button",{}),role:"button",...f,value:r,disabled:m,active:a};return E(k,{...y,className:l,children:[t&&!a&&e(k,{node:t,className:w}),h&&a&&e(k,{node:h,className:w}),s&&!a&&(typeof s=="string"?e("span",{children:s}):s),a&&c&&(typeof c=="string"?e("span",{children:c}):c)]})},fe=({variant:r="primary",className:n,children:o,...t})=>e("div",{...t,className:i(["dropin-card",`dropin-card--${r}`,n]),children:e("div",{class:"dropin-card__content",children:o})}),ve=({ariaLabel:r,size:n="small",stroke:o="4",children:t,className:l,style:s,...m})=>{const a=["dropin-progress-spinner",`dropin-progress-spinner--shape-size-${n}`,`dropin-progress-spinner--shape-stroke-${o}`],c=A({updating:"Dropin.ProgressSpinner.updating.label",updatingChildren:"Dropin.ProgressSpinner.updatingChildren.label"}),h=()=>r||(t?c.updatingChildren:c.updating);return t?E("div",{...m,className:i(["dropin-progress-spinner-provider"]),"aria-live":"polite",role:"status",children:[e("div",{"aria-hidden":!0,children:t}),e("div",{"aria-label":h(),role:"status",className:i(["dropin-progress-spinner-background",l]),style:s}),e("div",{className:i(["dropin-progress-spinner-with-provider",...a]),"aria-hidden":!0})]}):e("div",{...m,className:i([l,...a]),"aria-live":"polite",role:"status","aria-label":h()})},De=({className:r,children:n,ariaLabel:o,image:t,title:l,price:s,taxIncluded:m=!1,taxExcluded:a=!1,total:c,totalExcludingTax:h,sku:p,configurations:f,warning:u,alert:w,quantity:y=1,description:P,loading:O=!1,updating:I=!1,onQuantity:b,onRemove:v,...U})=>{var V,S;const{locale:x}=J(ee),N=A({each:"Dropin.CartItem.each.label",quantity:"Dropin.CartItem.quantity.label",remove:"Dropin.CartItem.remove.label",removeDefault:"Dropin.CartItem.removeDefault.label",taxIncluded:"Dropin.CartItem.taxIncluded.label",taxExcluded:"Dropin.CartItem.taxExcluded.label",updating:"Dropin.CartItem.updating.label",updatingDefault:"Dropin.ProgressSpinner.updating.label"});return O?e(be,{}):E("div",{...U,className:i(["dropin-cart-item",["dropin-cart-item--updating",I],r]),children:[I&&e(ve,{className:i(["dropin-cart-item__spinner"]),ariaLabel:o?(V=N.updating)==null?void 0:V.replace("{product}",o):N.updatingDefault}),E("div",{className:"dropin-cart-item__wrapper",children:[e(k,{node:t,className:i(["dropin-cart-item__image"])}),e(k,{node:l,className:i(["dropin-cart-item__title",["dropin-cart-item__title--edit",!!b||!!v]])}),P&&e(k,{node:P,className:i(["dropin-cart-item__description"])}),e(k,{node:p,className:i(["dropin-cart-item__sku"])}),f&&e("ul",{className:i(["dropin-cart-item__configurations"]),children:Object.entries(f).map(([L,Z])=>E("li",{className:i(["dropin-cart-item__configurations__item"]),children:[L,":"," ",e("strong",{className:i(["dropin-cart-item__configurations__item__value"]),children:Z})]},L))}),E("span",{className:i(["dropin-cart-item__price"]),children:[!b&&E("span",{className:"dropin-cart-item__price__quantity",children:[y.toLocaleString(x)," x"," "]}),e(k,{node:s,role:"text"}),y>1&&E(Y,{children:[" ",N.each]}),m&&E("span",{"data-testid":"tax-message",className:"dropin-cart-item__price-tax-message",children:[" ",N.taxIncluded]}),a&&E("span",{"data-testid":"tax-message",className:"dropin-cart-item__price-tax-message",children:[" ",N.taxExcluded]})]}),E("div",{className:i(["dropin-cart-item__quantity",["dropin-cart-item__quantity--edit",!!b]]),children:[b?e(Ee,{className:i(["dropin-cart-item__quantity__incrementer"]),value:y,min:1,onValue:L=>b==null?void 0:b(Number(L)),name:"quantity","aria-label":N.quantity,disabled:I}):E("span",{className:i(["dropin-cart-item__quantity__value"]),children:[N.quantity,":"," ",e("strong",{className:"dropin-cart-item__quantity__number",children:Number(y).toLocaleString(x)})]}),u&&e(k,{node:u,className:i(["dropin-cart-item__warning","dropin-cart-item__warning--quantity"])}),w&&e(k,{node:w,className:i(["dropin-cart-item__alert","dropin-cart-item__alert--quantity"])})]}),u&&e(k,{node:u,className:i(["dropin-cart-item__warning"])}),w&&e(k,{node:w,className:i(["dropin-cart-item__alert"])}),E("div",{className:i(["dropin-cart-item__total",["dropin-cart-item__total--edit",!!v]]),children:[e("div",{className:"dropin-cart-item__row-total",children:e(k,{node:c,role:"text"})}),m&&E("span",{"data-testid":"tax-message",className:i(["dropin-cart-item__total-tax-message"]),children:[" ",N.taxIncluded]}),a&&e("div",{className:"dropin-cart-item__total-tax-excluded",children:E("span",{"data-testid":"tax-message",className:i(["dropin-cart-item__total-tax-excluded-message"]),children:[h&&e(k,{node:h,role:"text"})," ",N.taxExcluded]})})]})]}),v&&e(F,{className:i(["dropin-cart-item__remove"]),variant:"tertiary",onClick:()=>v==null?void 0:v(),icon:e(D,{source:W,size:"24",stroke:"2",viewBox:"0 0 24 24","aria-label":o?(S=N.remove)==null?void 0:S.replace("{product}",o):N.removeDefault}),disabled:I})]})},be=()=>e("div",{className:"dropin-cart-item dropin-cart-item-skeleton",children:E(ce,{className:"dropin-cart-item__skeleton dropin-cart-item__wrapper",children:[e("div",{className:"dropin-cart-item__image",children:e(C,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__title",children:e(C,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__sku",children:e(C,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__price",children:e(C,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__quantity",children:e(C,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__total",children:e(C,{className:"dropin-cart-item__skeleton__item"})})]})}),Oe=({className:r,children:n,...o})=>e("div",{...o,className:i(["dropin-cart-list",r]),children:e("div",{className:"dropin-cart-list__wrapper","aria-live":"assertive","aria-relevant":"all",children:X.map(n,(t,l)=>e("div",{className:"dropin-cart-list__item",children:t},l))})}),Te=({className:r,children:n,ctaLinkURL:o,...t})=>{const l=A({emptyCart:"Cart.EmptyCart.heading",cta:"Cart.EmptyCart.cta"});return e("div",{...t,className:i(["cart-empty-cart",r]),children:E(fe,{variant:"secondary",className:"cart-empty-cart__wrapper",children:[e("div",{className:"cart-empty-cart__icon",children:e(D,{source:H,size:"64"})}),e("div",{className:"cart-empty-cart__heading",children:l.emptyCart}),o&&e("div",{className:"cart-empty-cart__actions",children:e(F,{href:o,children:l.cta})})]})})};export{B as A,F as B,Oe as C,Ce as D,Te as E,D as I,z as M,Le as P,ce as S,C as a,De as b,Pe as c,ie as d};
//# sourceMappingURL=MiniCart.js.map
