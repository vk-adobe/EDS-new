import{jsx as O,Fragment as fe}from"@dropins/tools/preact-jsx-runtime.js";import{createContext as me,useMemo as de}from"@dropins/tools/preact-compat.js";import{h as u,Component as ve,createContext as ye,cloneElement as q}from"@dropins/tools/preact.js";import{useContext as C}from"@dropins/tools/preact-hooks.js";const re=e=>e.reduce((r,n)=>{if(!n)return r;if(typeof n=="string"&&(r+=` ${n}`),Array.isArray(n)){const[a,o]=n;a&&o&&(r+=` ${a}`)}return r},"").trim();function he(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var be=function(t){return ge(t)&&!we(t)};function ge(e){return!!e&&typeof e=="object"}function we(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Te(e)}var xe=typeof Symbol=="function"&&Symbol.for,Oe=xe?Symbol.for("react.element"):60103;function Te(e){return e.$$typeof===Oe}function Ce(e){return Array.isArray(e)?[]:{}}function I(e,t){return t.clone!==!1&&t.isMergeableObject(e)?T(Ce(e),e,t):e}function Ae(e,t,r){return e.concat(t).map(function(n){return I(n,r)})}function je(e,t){if(!t.customMerge)return T;var r=t.customMerge(e);return typeof r=="function"?r:T}function Ee(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function G(e){return Object.keys(e).concat(Ee(e))}function ne(e,t){try{return t in e}catch{return!1}}function Pe(e,t){return ne(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Se(e,t,r){var n={};return r.isMergeableObject(e)&&G(e).forEach(function(a){n[a]=I(e[a],r)}),G(t).forEach(function(a){Pe(e,a)||(ne(e,a)&&r.isMergeableObject(t[a])?n[a]=je(a,r)(e[a],t[a],r):n[a]=I(t[a],r))}),n}function T(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Ae,r.isMergeableObject=r.isMergeableObject||be,r.cloneUnlessOtherwiseSpecified=I;var n=Array.isArray(t),a=Array.isArray(e),o=n===a;return o?n?r.arrayMerge(e,t,r):Se(e,t,r):I(t,r)}T.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,a){return T(n,a,r)},{})};var Me=T,Ie=Me;const Z=he(Ie),ke={ExampleComponentName:{item:{label:"string"}},Incrementer:{decreaseLabel:"Decrease Quantity",increaseLabel:"Increase Quantity",label:"Quantity"},Modal:{Close:{label:"Close"}},InlineAlert:{dismissLabel:"Dismiss Alert"},PriceSummary:{subTotal:{label:"Subtotal",withTaxes:"Including taxes",withoutTaxes:"excluding taxes"},shipping:{label:"Shipping",editZipAction:"Apply",estimated:"Estimated Shipping",estimatedDestination:"Estimated Shipping to ",destinationLinkAriaLabel:"Change destination",zipPlaceholder:"Zip Code",withTaxes:"Including taxes",withoutTaxes:"excluding taxes",alternateField:{zip:"Estimate using country/zip",state:"Estimate using country/state"}},taxes:{total:"Tax Total",totalOnly:"Tax",breakdown:"Taxes",showBreakdown:"Show Tax Breakdown",hideBreakdown:"Hide Tax Breakdown",estimated:"Estimated Tax"},total:{estimated:"Estimated Total",label:"Total",withoutTax:"Total excluding taxes"}},ProgressSpinner:{updating:{label:"Item is updating"},updatingChildren:{label:"Items are updating"}},PriceRange:{from:{label:"From"},to:{label:"to"},asLowAs:{label:"As low as"}},Swatches:{outOfStock:{label:"out of stock swatch"},selected:{label:"swatch selected"},swatch:{label:"swatch"}},Accordion:{open:{label:"Open"},close:{label:"Close"}},CartItem:{each:{label:"each"},quantity:{label:"Quantity"},remove:{label:"Remove {product} from the cart"},removeDefault:{label:"Remove item from the cart"},taxIncluded:{label:"incl. VAT"},taxExcluded:{label:"excl. tax"},updating:{label:"{product} is updating"}}},K={Dropin:ke};function ae(e,t,r,n,a){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:a;return e===a?r:e}var J,Le={};function c(e,t,r){if(e.nodeType===3){var n="textContent"in e?e.textContent:e.nodeValue||"";if(c.options.trim!==!1){var a=t===0||t===r.length-1;if((!(n=n.match(/^[\s\n]+$/g)&&c.options.trim!=="all"?" ":n.replace(/(^[\s\n]+|[\s\n]+$)/g,c.options.trim==="all"||a?"":" "))||n===" ")&&r.length>1&&a)return null}return n}if(e.nodeType!==1)return null;var o=String(e.nodeName).toLowerCase();if(o==="script"&&!c.options.allowScripts)return null;var i,l,s=c.h(o,function(d){var N=d&&d.length;if(!N)return null;for(var $={},A=0;A<N;A++){var v=d[A],j=v.name,E=v.value;j.substring(0,2)==="on"&&c.options.allowEvents&&(E=new Function(E)),$[j]=E}return $}(e.attributes),(l=(i=e.childNodes)&&Array.prototype.map.call(i,c).filter(Ne))&&l.length?l:null);return c.visitor&&c.visitor(s),s}var X,Ne=function(e){return e},$e={};function W(e){var t=(e.type||"").toLowerCase(),r=W.map;r&&r.hasOwnProperty(t)?(e.type=r[t],e.props=Object.keys(e.props||{}).reduce(function(n,a){var o;return n[o=a,o.replace(/-(.)/g,function(i,l){return l.toUpperCase()})]=e.props[a],n},{})):e.type=t.replace(/[^a-z0-9-]/i,"")}const Ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.setReviver=function(r){X=r},t.prototype.shouldComponentUpdate=function(r){var n=this.props;return r.wrap!==n.wrap||r.type!==n.type||r.markup!==n.markup},t.prototype.setComponents=function(r){if(this.map={},r){for(var n in r)if(r.hasOwnProperty(n)){var a=n.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[a]=r[n]}}},t.prototype.render=function(r){var n=r.wrap;n===void 0&&(n=!0);var a,o=r.type,i=r.markup,l=r.components,s=r.reviver,d=r.onError,N=r["allow-scripts"],$=r["allow-events"],A=r.trim,v=function(y,B){var U={};for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&B.indexOf(g)===-1&&(U[g]=y[g]);return U}(r,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),j=s||this.reviver||this.constructor.prototype.reviver||X||u;this.setComponents(l);var E={allowScripts:N,allowEvents:$,trim:A};try{a=function(y,B,U,g,se){var w=function(P,S){var m,_,D,H,pe=S==="html"?"text/html":"application/xml";S==="html"?(H="body",D=`<!DOCTYPE html>
<html><body>`+P+"</body></html>"):(H="xml",D=`<?xml version="1.0" encoding="UTF-8"?>
<xml>`+P+"</xml>");try{m=new DOMParser().parseFromString(D,pe)}catch(x){_=x}if(m||S!=="html"||((m=J||(J=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var x=document.createElement("iframe");return x.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",x.setAttribute("sandbox","allow-forms"),document.body.appendChild(x),x.contentWindow.document}())).open(),m.write(D),m.close()),m){var M=m.getElementsByTagName(H)[0],f=M.firstChild;return P&&!f&&(M.error="Document parse failed."),f&&String(f.nodeName).toLowerCase()==="parsererror"&&(f.removeChild(f.firstChild),f.removeChild(f.lastChild),M.error=f.textContent||f.nodeValue||_||"Unknown error",M.removeChild(f)),M}}(y,B);if(w&&w.error)throw new Error(w.error);var Y=w&&w.body||w;W.map=g||$e;var V=Y&&function(P,S,m,_){return c.visitor=S,c.h=m,c.options=_||Le,c(P)}(Y,W,U,se);return W.map=null,V&&V.props&&V.props.children||null}(i,o,j,this.map,E)}catch(y){d?d({error:y}):typeof console<"u"&&console.error&&console.error("preact-markup: "+y)}if(n===!1)return a||null;var R=v.hasOwnProperty("className")?"className":"class",b=v[R];return b?b.splice?b.splice(0,0,"markup"):typeof b=="string"?v[R]+=" markup":typeof b=="object"&&(b.markup=!0):v[R]="markup",j("div",v,a||null)},t}(ve);var h=ye({intl:{}});function ee(e){return e!=null}function k(e,t){for(var r in t)e[r]=t[r];return e}function ie(e,t){var r=k({},e);for(var n in t)t.hasOwnProperty(n)&&(e[n]&&t[n]&&typeof e[n]=="object"&&typeof t[n]=="object"?r[n]=ie(e[n],t[n]):r[n]=e[n]||t[n]);return r}function _e(e){if(e=e||{},typeof e=="string"&&(e=e.split(",")),"join"in e){for(var t={},r=0;r<e.length;r++){var n=e[r].trim();n&&(t[n.split(".").pop()]=n)}return t}return e}function De(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)===-1&&(r[n]=e[n]);return r}var We=/[?&#]intl=show/;function Q(e){var t=e.scope,r=e.mark,n=e.definition,a=De(e,["scope","mark","definition"]),o=a,i=C(h),l=i.intl,s=k({},l||{});return t&&(s.scope=t),n&&(s.dictionary=ie(s.dictionary||{},n)),(r||typeof location<"u"&&String(location).match(We))&&(s.mark=!0),u(h.Provider,{value:{intl:s}},o.children)}function p(e,t){if(arguments.length<2)return t=e,function(n){return p(n,t)};function r(n){return u(Q,t||{},u(e,n))}return r.getWrappedComponent=e&&e.getWrappedComponent||function(){return e},r}var ze={};function oe(e,t,r,n){return e&&e.replace(/\{\{([\w.-]+)\}\}/g,Fe.bind(null,t||ze,r,n))}function Fe(e,t,r,n,a){for(var o=a.split("."),i=e,l=0;l<o.length;l++){if(i=i[o[l]],i==null)return"";if(i&&i.type===F)return L(i.props.id,t,r,i.props.fields,i.props.plural,i.props.fallback)}return typeof i=="string"&&i.match(/\{\{/)&&(i=oe(i,e)),i}function L(e,t,r,n,a,o){t&&(e=t+"."+e);var i=r&&ae(r,e);return(a||a===0)&&i&&typeof i=="object"&&(i.splice?i=i[a]||i[0]:a===0&&ee(i.none||i.zero)?i=i.none||i.zero:a===1&&ee(i.one||i.singular)?i=i.one||i.singular:i=i.some||i.many||i.plural||i.other||i),i&&oe(i,n,t,r)||o||null}function le(e){var t=e.value,r=e.id,n=C(h),a=n.intl;if(a&&a.mark){var o="dictionary"+(a&&a.scope?"."+a.scope:"")+"."+r;return u("mark",{style:{background:t?ae(a,o)?"rgba(119,231,117,.5)":"rgba(229,226,41,.5)":"rgba(228,147,51,.5)"},title:r},t)}return t}function F(e){var t=e.id,r=e.children,n=e.plural,a=e.fields,o=C(h),i=o.intl,l=L(t,i&&i.scope,i&&i.dictionary,a,n,r);return u(le,{id:t,value:l})}function z(e,t,r){var n={};t=t||{},e=_e(e);for(var a in e)if(e.hasOwnProperty(a)&&e[a]){var o=e[a];!r&&typeof o=="string"?n[a]=L(o,t.scope,t.dictionary):o.type===F&&(o=k({fallback:o.props.children},o.props),n[a]=L(o.id,t.scope,t.dictionary,o.fields,o.plural,o.fallback))}return n}function ce(e){var t=e.children,r=C(h),n=r.intl;return t&&t.length?t.map(function(a){return q(a,z(a.props,n,!0))}):t&&q(t,z(t.props,n,!0))}function ue(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)===-1&&(r[n]=e[n]);return r}function Re(e){var t=e.id,r=e.fields,n=e.plural,a=e.children,o=ue(e,["id","fields","plural","children"]),i=o;return u(ce,null,u(Be,Object.assign({},{html:u(F,{id:t,fields:r,plural:n,children:a}),id:t},i)))}function Be(e){var t=e.html,r=e.id,n=ue(e,["html","id"]),a=n;return u(le,{id:r,value:t&&(typeof t=="string"?u(Ue,Object.assign({},{type:"html",trim:!1},a,{markup:t})):u("span",null,t))})}function Ve(e){return function(r){function n(a,o){var i=C(h),l=i.intl,s=typeof e=="function"?e(a,{intl:l}):e,d=z(s,l);return u(r,k(k({},a),d))}return n.getWrappedComponent=r&&r.getWrappedComponent||function(){return r},n}}function He(e){var t=C(h),r=t.intl;return z(typeof e=="function"?e({intl:r}):e,r)}p.intl=p;p.IntlContext=h;p.IntlProvider=Q;p.Text=F;p.MarkupText=Re;p.Localizer=ce;p.withText=Ve;p.useText=He;p.translate=L;const te={default:K,en_US:K},Ze=e=>Z(te.default,te[e]||{});function Qe({node:e,...t}){return e?Array.isArray(e)?O(fe,{children:e.map((r,n)=>O(Qe,{node:r,className:t.className,...t},n))}):(t.className=re([e.props.className,t.className]),O(e.type,{ref:e.ref,...e.props,...t},e.key)):null}const Ye=me({locale:"en-US"}),Xe=({lang:e="en_US",langDefinitions:t={},className:r,children:n,...a})=>{const o=de(()=>{const l=Z(t.default,t[e]??{});return Z(Ze(e),l)},[e,t]),i=e.replace("_","-");return O(Ye.Provider,{value:{locale:i},children:O(Q,{definition:o,children:O("div",{...a,className:re(["dropin-design",r]),children:n})})})};export{ce as L,F as T,Xe as U,Qe as V,Ye as a,re as c,Z as d,He as u};
//# sourceMappingURL=UIProvider.js.map
