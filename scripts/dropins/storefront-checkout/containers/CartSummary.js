import*as t from"@dropins/elsie/event-bus.js";import*as e from"@dropins/elsie/fetch-graphql.js";import*as r from"@dropins/elsie/preact-compat.js";import*as n from"@dropins/elsie/preact-hooks.js";import*as a from"@dropins/elsie/preact-jsx-runtime.js";import*as o from"@dropins/elsie/preact.js";export const id=552;export const ids=[552];export const modules={7553:(t,e,r)=>{r.d(e,{X:()=>b});var n=r(1892),a=r.n(n),o=r(5760),i=r.n(o),s=r(8311),c=r.n(s),u=r(8192),l=r.n(u),m=r(8060),d=r.n(m),f=r(4865),p=r.n(f),y=r(4553),v={};v.styleTagTransform=p(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=d();a()(y.Z,v);y.Z&&y.Z.locals&&y.Z.locals;var h=r(7188),b=function(t){var e=t.className,r=t.children,n=t.level,a=void 0===n?2:n,o=a>=1&&a<=6?"h".concat(a):"h2";return(0,h.jsx)(o,{className:e,children:r})}},1745:(t,e,r)=>{r.d(e,{V:()=>H,C:()=>q});var n=r(4853),a=r(3042),o=r(5587),i=r(1892),s=r.n(i),c=r(5760),u=r.n(c),l=r(8311),m=r.n(l),d=r(8192),f=r.n(d),p=r(8060),y=r.n(p),v=r(4865),h=r.n(v),b=r(7622),g={};g.styleTagTransform=h(),g.setAttributes=f(),g.insert=m().bind(null,"head"),g.domAPI=u(),g.insertStyleElement=y();s()(b.Z,g);b.Z&&b.Z.locals&&b.Z.locals;var j=r(8228),x=r(9614),_=r(9724),C=r(7553),S=r(6950),k=r(2135),O=r(5140),w=r(7188);function E(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var A=function(t){var e=t.className,r=t.item,n=[];if(r.configurable_options){var a,i=E(r.configurable_options);try{for(i.s();!(a=i.n()).done;){var s=a.value;n[s.option_label]=s.value_label}}catch(t){i.e(t)}finally{i.f()}}return(0,w.jsx)("div",{className:(0,o.S)(["checkout-cart-summary-item",e]),children:(0,w.jsx)(S.b,{title:(0,w.jsx)("div",{children:r.product.name}),sku:(0,w.jsx)("div",{children:r.product.sku}),quantity:r.quantity,image:(0,w.jsx)(k.E,{src:r.product.thumbnail.url,alt:r.product.name,loading:"lazy"}),configurations:n,price:(0,w.jsx)(O.t,{amount:r.prices.price.value,currency:r.prices.price.currency}),total:(0,w.jsx)("span",{children:(0,w.jsx)(O.t,{amount:r.prices.row_total.value,currency:r.prices.price.currency})})},r.uid)})},N=r(7816),P=function(){return(0,w.jsx)(j.Z,{children:(0,w.jsxs)(N.O,{className:"cart-summary__skeleton",style:{gridTemplateColumns:"1fr"},children:[(0,w.jsx)(N.d,{variant:"heading",fullWidth:!0,size:"medium"}),(0,w.jsx)(S.b,{loading:!0}),(0,w.jsx)(S.b,{loading:!0}),(0,w.jsx)(S.b,{loading:!0}),(0,w.jsx)(S.b,{loading:!0}),(0,w.jsx)(S.b,{loading:!0}),(0,w.jsx)(N.d,{size:"medium",fullWidth:!0})]})})};function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){L(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function L(t,e,r){var n;return n=function(t,e){if("object"!=Z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Z(n)?n:String(n))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var M=function(t){return t.VIEW_MORE="viewMore",t.VIEW_ALL="viewAll",t}({});function T(t){var e=t.type,r=t.handler;return(0,w.jsx)("button",{"data-testid":"action-".concat(e),className:"checkout-cart-summary__action",onClick:r,children:(0,w.jsx)(_.xv,{id:"Checkout.CartSummary.".concat(e)})})}var D=function(t){var e=t.className,r=t.isLoading,n=t.totalQuantity,a=t.items,i=t.action;return r?(0,w.jsx)(P,{}):(0,w.jsxs)(j.Z,{className:(0,o.S)(["checkout-cart-summary",e]),children:[(0,w.jsxs)("div",{className:"checkout-cart-summary__heading",children:[(0,w.jsxs)(C.X,{level:2,className:"checkout-cart-summary__title",children:[(0,w.jsx)(_.xv,{id:"Checkout.CartSummary.title"})," (",n,")"]}),(0,w.jsx)("p",{className:"checkout-cart-summary__edit",children:(0,w.jsx)(_.bp,{id:"Checkout.CartSummary.editCart"})})]}),(0,w.jsx)(x.i,{className:"checkout-cart-summary__divider-top",variant:"primary"}),(0,w.jsx)("div",{className:"checkout-cart-summary__items",children:null==a?void 0:a.map((function(t){return(0,w.jsx)(A,{item:t},null==t?void 0:t.uid)}))}),i&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x.i,{className:"checkout-cart-summary__divider-bottom",variant:"primary"}),(0,w.jsx)(T,V({},i))]})]})},F=5,Q=r(1497);function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,a=t}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q(t){var e,r,o,i=(0,Q.oR)().data,s=i.cartSummaryMaxItems,c=i.cartSummaryTotalDisplay===Q.Jk.ItemsQuantity,u=W((0,n.useState)(F),2),l=u[0],m=u[1],d=l<s,f=a.t.value.data,p=null!==(e=null==f?void 0:f.items)&&void 0!==e?e:[],y=p.length,v=null!==(r=null==f?void 0:f.total_quantity)&&void 0!==r?r:0,h=p.slice(0,l),b=y>l,g=b&&!d,j=b&&d,x=(0,n.useCallback)((function(){m(s)}),[s]);return g?o={type:M.VIEW_ALL,handler:function(){t()}}:j&&(o={type:M.VIEW_MORE,handler:x}),{isLoading:void 0===a.t.value.data,totalQuantity:c?v:y,visibleItems:h,action:o}}var H=function(t){var e=q(t.onGoToCart),r=e.isLoading,n=e.totalQuantity,a=e.visibleItems,o=e.action;return(0,w.jsx)(D,{isLoading:r,totalQuantity:n,items:a,action:o})}},9454:(t,e,r)=>{r.d(e,{Cj:()=>n.C,VD:()=>n.V,ZP:()=>n.V});var n=r(1745)},7622:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(4933),a=r.n(n),o=r(3476),i=r.n(o)()(a());i.push([t.id,".checkout-cart-summary .elsie-card__content{\n  gap:var(--spacing-xsmall);\n}\n\n.checkout-cart-summary__heading{\n  display:grid;\n  grid-template-columns:1fr max-content;\n  grid-auto-rows:max-content;\n}\n\n.checkout-cart-summary__title{\n  color:var(--color-neutral-800);\n  font:var(--type-headline-2-default-font);\n  letter-spacing:var(--type-headline-2-default-letter-spacing);\n  margin:0;\n}\n\n.checkout-cart-summary__edit{\n  font:var(--type-body-2-strong-font);\n  letter-spacing:var(--type-body-2-strong-letter-spacing);\n  align-self:flex-end;\n  justify-self:flex-end;\n  margin:0;\n}\n\n.checkout-cart-summary__edit a{\n  font:var(--type-body-2-strong-font);\n  letter-spacing:var(--type-body-2-strong-letter-spacing);\n}\n\n.checkout-cart-summary .checkout-cart-summary__divider-top{\n  margin:0 0 var(--spacing-medium) 0;\n}\n\n.checkout-cart-summary .checkout-cart-summary__divider-bottom{\n  margin:var(--spacing-medium) 0 var(--spacing-small) 0;\n}\n\n.checkout-cart-summary__items{\n  display:grid;\n  gap:var(--spacing-medium);\n}\n\n.checkout-cart-summary__action{\n  font:var(--type-body-2-strong-font);\n  letter-spacing:var(--type-body-2-strong-letter-spacing);\n  color:var(--color-brand-500);\n  background:none;\n  margin:0;\n  border:0;\n  text-align:center;\n  white-space:nowrap;\n  text-decoration:none;\n  cursor:pointer;\n}\n",""]);const s=i},4553:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(4933),a=r.n(n),o=r(3476),i=r.n(o)()(a());i.push([t.id,"\n",""]);const s=i},6765:(e,r,n)=>{e.exports=(t=>{var e={};return n.d(e,t),e})({events:()=>t.events})},9699:(t,r,n)=>{t.exports=(t=>{var e={};return n.d(e,t),e})({FetchGraphQL:()=>e.FetchGraphQL})},4853:(t,e,n)=>{t.exports=(t=>{var e={};return n.d(e,t),e})({Suspense:()=>r.Suspense,createContext:()=>r.createContext,forwardRef:()=>r.forwardRef,lazy:()=>r.lazy,useCallback:()=>r.useCallback,useContext:()=>r.useContext,useEffect:()=>r.useEffect,useImperativeHandle:()=>r.useImperativeHandle,useMemo:()=>r.useMemo,useRef:()=>r.useRef,useState:()=>r.useState})},5437:(t,e,r)=>{t.exports=(t=>{var e={};return r.d(e,t),e})({useCallback:()=>n.useCallback,useContext:()=>n.useContext,useDebugValue:()=>n.useDebugValue,useEffect:()=>n.useEffect,useId:()=>n.useId,useImperativeHandle:()=>n.useImperativeHandle,useLayoutEffect:()=>n.useLayoutEffect,useMemo:()=>n.useMemo,useReducer:()=>n.useReducer,useRef:()=>n.useRef,useState:()=>n.useState})},4142:(t,e,r)=>{t.exports=(t=>{var e={};return r.d(e,t),e})({Fragment:()=>a.Fragment,jsx:()=>a.jsx,jsxs:()=>a.jsxs})},3474:(t,e,r)=>{t.exports=(t=>{var e={};return r.d(e,t),e})({Component:()=>o.Component,Fragment:()=>o.Fragment,cloneElement:()=>o.cloneElement,createContext:()=>o.createContext,createElement:()=>o.createElement,createRef:()=>o.createRef,h:()=>o.h,hydrate:()=>o.hydrate,isValidElement:()=>o.isValidElement,options:()=>o.options,render:()=>o.render,toChildArray:()=>o.toChildArray})}};import i from"../runtime.js";import*as s from"../179.js";i.C(s);import*as c from"../900.js";i.C(c);import*as u from"../994.js";i.C(u);import*as l from"../223.js";i.C(l);import*as m from"../662.js";i.C(m);import*as d from"../965.js";i.C(d);import*as f from"./CartSummary.js";i.C(f);var p,y=(p=9454,i(i.s=p)),v=y.VD,h=y.ZP,b=y.Cj;export{v as CartSummary,h as default,b as useCartSummary};